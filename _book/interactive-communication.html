<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 7 Interactive communication | Telling Stories With Data</title>
<meta name="author" content="Rohan Alexander">
<meta name="description" content="STATUS: Under construction. Required reading McQuire (2019) Presmanes Hill (2021a) Presmanes Hill (2021b) Mock (2020) Required viewing Kuriwaki, Shiro, 2020, ‘Making maps in R with sf,’ 1 March,...">
<meta name="generator" content="bookdown 0.22.17 with bs4_book()">
<meta property="og:title" content="Chapter 7 Interactive communication | Telling Stories With Data">
<meta property="og:type" content="book">
<meta property="og:image" content="/tellingstorieswithdatapainting.png">
<meta property="og:description" content="STATUS: Under construction. Required reading McQuire (2019) Presmanes Hill (2021a) Presmanes Hill (2021b) Mock (2020) Required viewing Kuriwaki, Shiro, 2020, ‘Making maps in R with sf,’ 1 March,...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 7 Interactive communication | Telling Stories With Data">
<meta name="twitter:description" content="STATUS: Under construction. Required reading McQuire (2019) Presmanes Hill (2021a) Presmanes Hill (2021b) Mock (2020) Required viewing Kuriwaki, Shiro, 2020, ‘Making maps in R with sf,’ 1 March,...">
<meta name="twitter:image" content="/tellingstorieswithdatapainting.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.10/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/_Atkinson%20Hyperlegible-0.4.0/font.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=IBM%20Plex%20Mono&amp;display=swap" rel="stylesheet">
<script src="libs/bs3compat-0.2.5.1/tabs.js"></script><script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="libs/leaflet-1.3.1/leaflet.js"></script><link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="libs/proj4-2.6.2/proj4.min.js"></script><script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script><script src="libs/mapdeck-binding-0.3.4/mapdeck.js"></script><script src="libs/mpadeck_functions-0.0.1/mapdeck_functions.js"></script><script src="libs/deckgl-8.1.6/deckgl.min.js"></script><script src="libs/legend-0.0.1/legend.js"></script><script src="libs/title-0.0.1/title.js"></script><script src="libs/mapdeck_location-0.0.1/mapdeck_location.js"></script><script src="libs/mapdeck_colours-0.0.1/mapdeck_colours.js"></script><script src="libs/mapdeck_coordinates-0.0.1/mapdeck_coordinates.js"></script><link href="libs/mapboxgl-1.10.0/mapbox-gl.css" rel="stylesheet">
<script src="libs/mapboxgl-1.10.0/mapbox-gl.js"></script><link href="libs/mapdeck-0.0.1/mapdeck.css" rel="stylesheet">
<script src="libs/mpadeck-binding-0.3.4/mapdeck.js"></script><script src="libs/scatterplot-1.0.0/scatterplot.js"></script><script src="libs/viz-1.8.2/viz.js"></script><link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="libs/grViz-binding-1.0.6.1/grViz.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Telling Stories With Data</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="about-the-author.html">About the author</a></li>
<li class="book-part">Foundations</li>
<li><a class="" href="telling-stories-with-data.html"><span class="header-section-number">1</span> Telling Stories with Data</a></li>
<li><a class="" href="drinking-from-a-fire-hose.html"><span class="header-section-number">2</span> Drinking from a fire hose</a></li>
<li><a class="" href="r-essentials.html"><span class="header-section-number">3</span> R Essentials</a></li>
<li><a class="" href="workflow.html"><span class="header-section-number">4</span> Workflow</a></li>
<li class="book-part">Communication</li>
<li><a class="" href="on-writing.html"><span class="header-section-number">5</span> On writing</a></li>
<li><a class="" href="static-communication.html"><span class="header-section-number">6</span> Static communication</a></li>
<li><a class="active" href="interactive-communication.html"><span class="header-section-number">7</span> Interactive communication</a></li>
<li class="book-part">Measure and acquire</li>
<li><a class="" href="gather-data.html"><span class="header-section-number">8</span> Gather data</a></li>
<li><a class="" href="hunt-data.html"><span class="header-section-number">9</span> Hunt data</a></li>
<li><a class="" href="farm-data.html"><span class="header-section-number">10</span> Farm data</a></li>
<li class="book-part">Preparation</li>
<li><a class="" href="cleaning-and-preparing-data.html"><span class="header-section-number">11</span> Cleaning and preparing data</a></li>
<li><a class="" href="storing-and-retrieving-data.html"><span class="header-section-number">12</span> Storing and retrieving data</a></li>
<li><a class="" href="disseminating-and-protecting-data.html"><span class="header-section-number">13</span> Disseminating and protecting data</a></li>
<li class="book-part">Modelling</li>
<li><a class="" href="exploratory-data-analysis.html"><span class="header-section-number">14</span> Exploratory data analysis</a></li>
<li><a class="" href="ijalm.html"><span class="header-section-number">15</span> It’s Just A Linear Model</a></li>
<li><a class="" href="causality.html"><span class="header-section-number">16</span> Causality from observational data</a></li>
<li><a class="" href="mrp.html"><span class="header-section-number">17</span> Multilevel regression with post-stratification</a></li>
<li><a class="" href="text-as-data.html"><span class="header-section-number">18</span> Text as data</a></li>
<li class="book-part">Enrichment</li>
<li><a class="" href="using-the-cloud.html"><span class="header-section-number">19</span> Using the cloud</a></li>
<li><a class="" href="deploying-models.html"><span class="header-section-number">20</span> Deploying models</a></li>
<li><a class="" href="efficiency.html"><span class="header-section-number">21</span> Efficiency</a></li>
<li><a class="" href="concludingremarks.html"><span class="header-section-number">22</span> Concluding remarks, next steps, and open problems</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="oh-you-think-and-shoulders.html"><span class="header-section-number">A</span> Oh you think and shoulders</a></li>
<li><a class="" href="papers.html"><span class="header-section-number">B</span> Papers</a></li>
<li><a class="" href="references-1.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="interactive-communication" class="section level1" number="7">
<h1>
<span class="header-section-number">7</span> Interactive communication<a class="anchor" aria-label="anchor" href="#interactive-communication"><i class="fas fa-link"></i></a>
</h1>
<p><strong>STATUS: Under construction.</strong></p>
<p><strong>Required reading</strong></p>
<ul>
<li><span class="citation"><a href="references-1.html#ref-mcquire2019one" role="doc-biblioref">McQuire</a> (<a href="references-1.html#ref-mcquire2019one" role="doc-biblioref">2019</a>)</span></li>
<li><span class="citation"><a href="references-1.html#ref-hillpostcards" role="doc-biblioref">Presmanes Hill</a> (<a href="references-1.html#ref-hillpostcards" role="doc-biblioref">2021a</a>)</span></li>
<li><span class="citation"><a href="references-1.html#ref-citealisonhillblogdown" role="doc-biblioref">Presmanes Hill</a> (<a href="references-1.html#ref-citealisonhillblogdown" role="doc-biblioref">2021b</a>)</span></li>
<li><span class="citation"><a href="references-1.html#ref-citemockblog" role="doc-biblioref">Mock</a> (<a href="references-1.html#ref-citemockblog" role="doc-biblioref">2020</a>)</span></li>
</ul>
<p><strong>Required viewing</strong></p>
<ul>
<li>Kuriwaki, Shiro, 2020, ‘Making maps in R with sf,’ 1 March, <a href="https://vimeo.com/394800836" class="uri">https://vimeo.com/394800836</a>.</li>
</ul>
<p><strong>Recommended reading</strong></p>
<ul>
<li>Cooley, David, 2020, ‘mapdeck,’ <a href="https://symbolixau.github.io/mapdeck/index.html" class="uri">https://symbolixau.github.io/mapdeck/index.html</a>.</li>
<li>Gabrielle, 2019, ‘Visualising spatial data using sf and mapdeck - part one,’ 4 December, <a href="https://resources.symbolix.com.au/2019/12/04/mapdeck-1/" class="uri">https://resources.symbolix.com.au/2019/12/04/mapdeck-1/</a>.</li>
<li>Kolb, Jan-Philipp, 2019, ‘Using Web Services to Work with Geodata in R,’ <em>The R Journal</em>, 11:2, pages 6-23, <a href="https://journal.r-project.org/archive/2019/RJ-2019-041/index.html" class="uri">https://journal.r-project.org/archive/2019/RJ-2019-041/index.html</a>.</li>
<li>‘Leaflet for R,’ <a href="https://rstudio.github.io/leaflet/" class="uri">https://rstudio.github.io/leaflet/</a>.</li>
<li>Xie, Yihui, Amber Thomas, and Alison Presmanes Hill, 2020, <em>blogdown: Creating Websites with R Markdown</em>, <a href="https://bookdown.org/yihui/blogdown/" class="uri">https://bookdown.org/yihui/blogdown/</a>.</li>
</ul>
<p><strong>Key concepts/skills/etc</strong></p>
<ul>
<li>Building a website using within the R environment using (in order of ease): <code>postcards</code>, <code>distill</code>, and <code>blogdown</code>.</li>
<li>Thinking of about how we can take advantage of interaction in maps, and broadening the data that we make available via interactive maps, while still telling a clear story.</li>
</ul>
<p><strong>Key libraries</strong></p>
<ul>
<li><code>blogdown</code></li>
<li><code>distill</code></li>
<li><code>leaflet</code></li>
<li><code>mapdeck</code></li>
<li><code>postcards</code></li>
<li><code>tidyverse</code></li>
<li><code>usethis</code></li>
</ul>
<p><strong>Key functions/etc</strong></p>
<ul>
<li><code>blogdown:::serve_site()</code></li>
<li><code><a href="https://pkgs.rstudio.com/distill/reference/create_article.html">distill::create_article()</a></code></li>
<li><code><a href="https://rdrr.io/pkg/postcards/man/create_postcard.html">postcards::create_postcard()</a></code></li>
<li><code><a href="https://usethis.r-lib.org/reference/use_git.html">usethis::use_git()</a></code></li>
<li><code><a href="https://usethis.r-lib.org/reference/use_github.html">usethis::use_github()</a></code></li>
</ul>
<div id="making-a-website" class="section level2" number="7.1">
<h2>
<span class="header-section-number">7.1</span> Making a website<a class="anchor" aria-label="anchor" href="#making-a-website"><i class="fas fa-link"></i></a>
</h2>
<div id="introduction-5" class="section level3" number="7.1.1">
<h3>
<span class="header-section-number">7.1.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction-5"><i class="fas fa-link"></i></a>
</h3>
<p>A website is a critical part of communication. For instance, it is a place to bring together everything that you’ve done, and it allows you some control of your online presence. You need a website.</p>
<p>One way to make a website is to use the <code>blogdown</code> package <span class="citation">(<a href="references-1.html#ref-citeblogdown" role="doc-biblioref">Xie, Dervieux, and Hill 2021</a>)</span>. <code>blogdown</code> is a package that allows you to make websites (not just blogs, notwithstanding its name) largely within R Studio. It builds on Hugo, which is a popular tool for making websites. <code>blogdown</code> lets you freely and quickly get a website up-and-running. It is easy to add content from time-to-time. It integrates with R Markdown which lets you easily share your work. And the separation of content and styling allows you to relatively quickly change your website’s design.</p>
<p>However, <code>blogdown</code> is brittle. Because it is so dependent on Hugo, features that work today may not work tomorrow. Also, owners of Hugo templates can update them at any time, without thought to existing users. <code>blogdown</code> is great if you know what you’re doing and have a specific use-case, or style, in mind. However, recently there are two alternatives that are better starting points.</p>
<p>The first is <code>distill</code> <span class="citation">(<a href="references-1.html#ref-citedistill" role="doc-biblioref">Allaire et al. 2021</a>)</span>. Again, this is an R package that wraps around another framework, in this case Distill. However, in contrast to Hugo, Distill is more focused on common needs in data science, and is also only maintained by one group, so it can be a more stable choice. That said, the default <code>distill</code> site is fairly unremarkable. As such, here we recommend a third option.</p>
<p>The third option, and the one that we’ll start with, is <code>postcards</code> <span class="citation">(<a href="references-1.html#ref-citepostcards" role="doc-biblioref">Kross 2021</a>)</span>. This is a tailored solution that creates simple biographical websites that look great. If you followed the earlier chapter and set-up GitHub, then you should literally be able to get a <code>postcards</code> website online in five minutes.</p>
</div>
<div id="postcards" class="section level3" number="7.1.2">
<h3>
<span class="header-section-number">7.1.2</span> Postcards<a class="anchor" aria-label="anchor" href="#postcards"><i class="fas fa-link"></i></a>
</h3>
<p>To get started with <code>postcards</code>, we first need to install the packages.</p>
<div class="sourceCode" id="cb133"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">'postcards'</span><span class="op">)</span></code></pre></div>
<p>You will want to create a new project for your website, so ‘File -&gt; New Project -&gt; New Directory -&gt; Postcards Website.’ You’ll then get a pick a name and location for the project, and you can select a postcards theme. In this case I’ll choose ‘trestles,’ and you probably want to tick ‘Open in new session.’</p>
<p>That will open a new file and you should now click ‘Knit’ to build the site. The result will be a fairly great one-page website (Figure <a href="interactive-communication.html#fig:trestles">7.1</a>)!</p>
<div class="figure">
<span style="display:block;" id="fig:trestles"></span>
<img src="figures/trestles.png" alt="Example of default Trestles website made with the `postcards` package" width="90%"><p class="caption">
Figure 7.1: Example of default Trestles website made with the <code>postcards</code> package
</p>
</div>
<p>At this point, we should update the basic content to match our own. For instance, here is the same website, but with my details (Figure <a href="interactive-communication.html#fig:trestlesredux">7.2</a>).</p>
<div class="figure">
<span style="display:block;" id="fig:trestlesredux"></span>
<img src="figures/trestlesredux.png" alt="Example of Trestles website with my own details" width="90%"><p class="caption">
Figure 7.2: Example of Trestles website with my own details
</p>
</div>
<p>When you’ve got the site how you’d like it, then you should add it to GitHub. GitHub will try to build a site, which was don’t want so you need to first add a hidden file by running this in the console:</p>
<div class="sourceCode" id="cb134"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/files.html">file.create</a></span><span class="op">(</span><span class="st">'.nojekyll'</span><span class="op">)</span></code></pre></div>
<p>Then the easiest way (assuming that you set everything up in earlier chapters) is to use the <code>usethis</code> package <span class="citation">(<a href="references-1.html#ref-citeusethis" role="doc-biblioref">Wickham and Bryan 2020</a>)</span>.</p>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_git.html">use_git</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_github.html">use_github</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>The project will then be on your GitHub repo and you can use GitHub pages to host it: ‘Settings -&gt; Pages’ and then change the source to ‘main’ or ‘master,’ depending on your settings.</p>
</div>
<div id="distill" class="section level3" number="7.1.3">
<h3>
<span class="header-section-number">7.1.3</span> Distill<a class="anchor" aria-label="anchor" href="#distill"><i class="fas fa-link"></i></a>
</h3>
<p>To get started with <code>distill</code> <span class="citation">(<a href="references-1.html#ref-citedistill" role="doc-biblioref">Allaire et al. 2021</a>)</span>, we are going to build a framework around our <code>postcards</code> site, following <span class="citation"><a href="references-1.html#ref-hillpostcards" role="doc-biblioref">Presmanes Hill</a> (<a href="references-1.html#ref-hillpostcards" role="doc-biblioref">2021a</a>)</span> fairly closely (please go to Alison’s blogpost for the details). After that we’ll explore some of the aspects of <code>distill</code> that make it a nice choice, and mention some of the trade-offs that you make if you choose this option. First, we need to install <code>distill</code>.</p>
<div class="sourceCode" id="cb136"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">'distill'</span><span class="op">)</span></code></pre></div>
<p>Again, create a new project for your website, so ‘File -&gt; New Project -&gt; New Directory -&gt; Distill Blog’ (there’s not really much difference between the website and blog options).</p>
<p>You’ll then get a pick a name and location for the project, and you can set a title. Select ‘Configure for GitHub Pages’ and also ‘Open in a new session’ (if you forget to do any of this or change your mind then it’s not a big deal - these can always be changed ex post or you can just delete the directory and start again). It should look something like Figure <a href="interactive-communication.html#fig:distillone">7.3</a>.</p>
<div class="figure">
<span style="display:block;" id="fig:distillone"></span>
<img src="figures/distill_one.png" alt="Example settings for setting up Distill." width="90%"><p class="caption">
Figure 7.3: Example settings for setting up Distill.
</p>
</div>
<p>At this point you can click ‘Build Website’ in the Build tab, and you’ll see the default website, which should look something like Figure <a href="interactive-communication.html#fig:distilltwo">7.4</a>.</p>
<div class="figure">
<span style="display:block;" id="fig:distilltwo"></span>
<img src="figures/distill_two.png" alt="Example of default Distill website." width="90%"><p class="caption">
Figure 7.4: Example of default Distill website.
</p>
</div>
<p>Again, now we need to do the work to update things. The default for the ‘Distill Blog’ setting is that the blog is the homepage. We can change that. I really liked the bio page from earlier, so we could use that approach.</p>
<p>First change the name of the ‘index.Rmd’ file to ‘blog.Rmd.’ Then create a new ‘trestles’ page:</p>
<div class="sourceCode" id="cb137"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">postcards</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/postcards/man/create_postcard.html">create_postcard</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"index.Rmd"</span>, template <span class="op">=</span> <span class="st">"trestles"</span><span class="op">)</span></code></pre></div>
<p>The trestles page that you just created will open, and you need to add the following line in the yaml.</p>
<div class="sourceCode" id="cb138"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">site</span><span class="op">:</span> <span class="fu">distill</span><span class="fu">::</span><span class="va"><a href="https://pkgs.rstudio.com/distill/reference/distill_website.html">distill_website</a></span></code></pre></div>
<p>In Figure <a href="interactive-communication.html#fig:distillthree">7.5</a> I added it to line 16 and then rebuilt the website.</p>
<div class="figure">
<span style="display:block;" id="fig:distillthree"></span>
<img src="figures/distill_three.png" alt="Updating the yaml to change the homepage." width="90%"><p class="caption">
Figure 7.5: Updating the yaml to change the homepage.
</p>
</div>
<p>We can make the same changes to the default content as earlier, updating the links, image, and bio. The advantage of using <code>Distill</code> is that we now have additional pages, not just a one-page website, and we also have a blog. By default, we have an ‘about’ page, but some other pages that may be useful, depending on your particular use-case, could include: ‘research,’ ‘teaching,’ ‘talks,’ ‘projects,’ ‘software,’ ‘datasets.’ For now, I’ll talk through adding and editing a page called ‘software.’</p>
<p>We can use the following function:</p>
<div class="sourceCode" id="cb139"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">distill</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/distill/reference/create_article.html">create_article</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">'software'</span><span class="op">)</span></code></pre></div>
<p>That will create and open an R Markdown document. To add it to the website, open ’_site.yml’ and then add a line to the ‘navbar’ (Figure <a href="interactive-communication.html#fig:distillfour">7.6</a>(. After this is done then re-building the site will result in that software page having been added.</p>
<div class="figure">
<span style="display:block;" id="fig:distillfour"></span>
<img src="figures/distill_four.png" alt="Adding another page to the website." width="90%"><p class="caption">
Figure 7.6: Adding another page to the website.
</p>
</div>
<p>Continue with this process until you’re happy with your site. For instance, we may want to add our blog back. To do this follow the same pattern as before, but with ‘blog’ instance of ‘software.’</p>
<p>When you’re ready, you can get your website online in the same way as we did with the <code>postcards</code> site (i.e. push to GitHub and then use GitHub Pages).</p>
<p>Using the <code>distill</code> is a great option if you want a multi-page website, but still want a fairly controlled environment. There are a lot of options that you can change and the best place to start with that is to see Alison Hill’s blog post <span class="citation">(<a href="references-1.html#ref-hillpostcards" role="doc-biblioref">Presmanes Hill 2021a</a>)</span>, but the <code>distill</code> package <a href="https://rstudio.github.io/distill/">homepage</a> is also useful.</p>
<p>That said, <code>distill</code> is very opinionated. Until recently they didn’t even allow a different citation style! While it is a great option (and what I use for my own website), if you want something that is more flexible, then <code>blogdown</code> might be a better option.</p>
</div>
<div id="blogdown" class="section level3" number="7.1.4">
<h3>
<span class="header-section-number">7.1.4</span> Blogdown<a class="anchor" aria-label="anchor" href="#blogdown"><i class="fas fa-link"></i></a>
</h3>
<p>Using <code>blogdown</code> <span class="citation">(<a href="references-1.html#ref-citeblogdown" role="doc-biblioref">Xie, Dervieux, and Hill 2021</a>)</span> is more work than Google sites or Squarespace. It requires a little more knowledge than using a basic Wordpress site. And if you want to customise absolutely every aspect of your website, or need everything to be ‘just so’ then <code>blogdown</code> may not be for you. Further, <code>blogdown</code> is still under active development and various aspects may break in future releases. However, <code>blogdown</code> allows a variety and level of expression that is not possible with <code>distill</code>.</p>
<p>This post is a simplified version of <span class="citation"><a href="references-1.html#ref-citealisonhillblogdown" role="doc-biblioref">Presmanes Hill</a> (<a href="references-1.html#ref-citealisonhillblogdown" role="doc-biblioref">2021b</a>)</span> and <span class="citation"><a href="references-1.html#ref-blogdownbook" role="doc-biblioref">Xie, Thomas, and Presmanes Hill</a> (<a href="references-1.html#ref-blogdownbook" role="doc-biblioref">2021</a>)</span>. It sticks to the basics and doesn’t require much decision-making. The purpose is to allow someone without much experience to use <code>blogdown</code> to get a website up-and-running. Head to those two resources once you’ve got a website working and want to dive a bit deeper.</p>
<p>We’ll need to install <code>blogdown</code>.</p>
<div class="sourceCode" id="cb140"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"blogdown"</span><span class="op">)</span></code></pre></div>
<p>Again, create a new project for your website, so ‘File -&gt; New Project -&gt; New Directory -&gt; Website using blogdown.’ At this point you can set a name and location, and also select ‘Open in a new session.’ It should look something like Figure <a href="interactive-communication.html#fig:blogdownone">7.7</a>.</p>
<div class="figure">
<span style="display:block;" id="fig:blogdownone"></span>
<img src="figures/blogdown_one.png" alt="Example settings for setting up blogdown" width="90%"><p class="caption">
Figure 7.7: Example settings for setting up blogdown
</p>
</div>
<p>You can again click ‘Build Website’ from the ‘Build’ pane, but then an extra step is needed, of serving the site:</p>
<div class="sourceCode" id="cb141"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">blogdown</span><span class="fu">:::</span><span class="fu"><a href="https://pkgs.rstudio.com/blogdown/reference/serve_site.html">serve_site</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>The site will show in the ‘Viewer’ pane (Figure <a href="interactive-communication.html#fig:blogdowntwo">7.8</a>).</p>
<div class="figure">
<span style="display:block;" id="fig:blogdowntwo"></span>
<img src="figures/blogdown_two.png" alt="Serving default blogdown site." width="90%"><p class="caption">
Figure 7.8: Serving default blogdown site.
</p>
</div>
<p>At this point, the default website is being ‘served’ locally. This means that changes you make will be reflected in the website that you see in your Viewer pane. To see the website in a web browser, click ‘Show in new window’ button on the top left of the Viewer. That will open the website using the address that the R Studio also tells you.</p>
<p>You probably want to update the ‘About’ section. To do that go to ‘content -&gt; about.md’ and add your own content. One nice aspect of <code>blogdown</code> is that it will automatically re-load the content when you save, so you should see your changes immediately show up.</p>
<p>You may also like to change the logo. You could do this by adding a square image to ‘public/images/’ and then changing the call to ‘logo.png’ in ‘config.yaml.’</p>
<p>When you’re happy with it, you can make your website public in the same way that is described for <code>postcards</code>.</p>
<p>This all said, the biggest advantage of using <code>blogdown</code> is that it allows us to use Hugo templates. This provides a large number of beautifully crafted websites. To pick a theme you can go to the Hugo themes page: <a href="https://themes.gohugo.io" class="uri">https://themes.gohugo.io</a>. There are hundreds of different themes. In general, most of them can be made to work with <code>blogdown</code>, but sometimes it can be a bit of a hassle to get them working.</p>
<p>One that I particularly like is Apéro: <a href="https://hugo-apero-docs.netlify.app" class="uri">https://hugo-apero-docs.netlify.app</a>. If you like that too, then you could use that theme by calling it when you create a new site. As a reminder, ‘File -&gt; New Project -&gt; New Directory -&gt; Website using blogdown.’ At this point, in addition to setting the name and location, you can specify a theme. Specifically, in ‘Hugo theme’ field, you specify the GitHub username and repository, which in this case is ‘hugo-apero/apero’ (Figure <a href="interactive-communication.html#fig:blogdownthree">7.9</a>).</p>
<div class="figure">
<span style="display:block;" id="fig:blogdownthree"></span>
<img src="figures/blogdown_three.png" alt="Using the Apéro theme." width="90%"><p class="caption">
Figure 7.9: Using the Apéro theme.
</p>
</div>
</div>
</div>
<div id="interactive-maps" class="section level2" number="7.2">
<h2>
<span class="header-section-number">7.2</span> Interactive maps<a class="anchor" aria-label="anchor" href="#interactive-maps"><i class="fas fa-link"></i></a>
</h2>
<p>The nice thing about interactive maps is that you can let your users decide what they are interested in. Additionally, if there is a lot of information then you may like to leave it to your users as to selectively focus on what they are interested in. For instance, in the case of Canadian politics, some people will be interested in Toronto ridings, while others will be interested in Manitoba, etc. But it would be difficult to present a map that focuses on both of those, so an interactive map is a great option for allowing users to zoom in on what they want.</p>
<p>That said, it is important to be cognizant of what we are doing when we build maps, and more broadly, what is being done at scale to enable us to be able to build our own maps. For instance, with regard to Google, <span class="citation"><a href="references-1.html#ref-mcquire2019one" role="doc-biblioref">McQuire</a> (<a href="references-1.html#ref-mcquire2019one" role="doc-biblioref">2019</a>)</span> says:</p>
<blockquote>
<p>Google began life in 1998 as a company famously dedicated to organising the vast amounts of data on the Internet. But over the last two decades its ambitions have changed in a crucial way. Extracting data such as words and numbers from the physical world is now merely a stepping-stone towards apprehending and organizing the physical world as data. Perhaps this shift is not surprising at a moment when it has become possible to comprehend human identity as a form of (genetic) ‘code.’ However, apprehending and organizing the world as data under current settings is likely to take us well beyond Heidegger’s ‘standing reserve’ in which modern technology enframed ‘nature’ as productive resource. In the 21st century, it is the stuff of human life itself—from genetics to bodily appearances, mobility, gestures, speech, and behaviour —that is being progressively rendered as productive resource that can not only be harvested continuously but subject to modulation over time.</p>
</blockquote>
<p>Does this mean that we should not use or build interactive maps? Of course not. But it’s important to be aware of the fact that this is a frontier, and the boundaries of appropriate use are still being determined. Indeed, the literal boundaries of the maps themselves are being consistently determined and updated. The move to digital maps, compared with physical printed maps, means that it is actually possible for different users to be presented with different realities. For instance, ‘…Google routinely takes sides in border disputes. Take, for instance, the representation of the border between Ukraine and Russia. In Russia, the Crimean Peninsula is represented with a hard-line border as Russian-controlled, whereas Ukrainians and others see a dotted-line border. The strategically important peninsula is claimed by both nations and was violently seized by Russia in 2014, one of many skirmishes over control’ <span class="citation"><a href="references-1.html#ref-washingtonpostmaps" role="doc-biblioref">Bensinger</a> (<a href="references-1.html#ref-washingtonpostmaps" role="doc-biblioref">2020</a>)</span>.</p>
<div id="leaflet" class="section level3" number="7.2.1">
<h3>
<span class="header-section-number">7.2.1</span> Leaflet<a class="anchor" aria-label="anchor" href="#leaflet"><i class="fas fa-link"></i></a>
</h3>
<p>The <code>leaflet</code> package <span class="citation">(<a href="references-1.html#ref-ChengKarambelkarXie2017" role="doc-biblioref">Cheng, Karambelkar, and Xie 2021</a>)</span> is originally a JavaScript library of the same name that has been brought over to R. It makes it easy to make interactive maps. The basics are similar to the <code>ggmap</code> <span class="citation">(<a href="references-1.html#ref-KahleWickham2013" role="doc-biblioref">Kahle and Wickham 2013</a>)</span> set-up, but of course after that, there are many, many, options.</p>
<p>Let’s redo the bike map from earlier, and possibly the interaction will allow us to see what the issue is with the data.</p>
<p>In the same way as a graph in <code>ggplot</code> begins with the <code>ggplot()</code> function, a map in the <code>leaflet</code> package begins with a call to the <code><a href="https://rdrr.io/pkg/leaflet/man/leaflet.html">leaflet()</a></code> function. This allows you to specify data, and a bunch of other options such as width and height. After this, we add ‘layers,’ in the same way that we added them in <code>ggplot</code>. The first layer that we’ll add is a tile with the function <code><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addTiles()</a></code>. In this case, the default is from OpenStreeMap. After that we’ll add markers that show the location of each bike parking spot with <code><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addMarkers()</a></code>.</p>
<div class="sourceCode" id="cb142"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/leaflet/">leaflet</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="co">#&gt; ── Attaching packages ─────────────────── tidyverse 1.3.1 ──</span>
<span class="co">#&gt; ✓ ggplot2 3.3.5     ✓ purrr   0.3.4</span>
<span class="co">#&gt; ✓ tibble  3.1.3     ✓ dplyr   1.0.7</span>
<span class="co">#&gt; ✓ tidyr   1.1.3     ✓ stringr 1.4.0</span>
<span class="co">#&gt; ✓ readr   2.0.0     ✓ forcats 0.5.1</span>
<span class="co">#&gt; ── Conflicts ────────────────────── tidyverse_conflicts() ──</span>
<span class="co">#&gt; x dplyr::filter() masks stats::filter()</span>
<span class="co">#&gt; x dplyr::lag()    masks stats::lag()</span>

<span class="va">bike_data</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"outputs/data/bikes.csv"</span><span class="op">)</span>
<span class="co">#&gt; Rows: 1400 Columns: 4</span>
<span class="co">#&gt; ── Column specification ────────────────────────────────────</span>
<span class="co">#&gt; Delimiter: ","</span>
<span class="co">#&gt; chr (1): street_address</span>
<span class="co">#&gt; dbl (3): latitude, longitude, number_of_spots</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ℹ Use `spec()` to retrieve the full column specification for this data.</span>
<span class="co">#&gt; ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</span>

<span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/leaflet.html">leaflet</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">bike_data</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addTiles</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>  <span class="co"># Add default OpenStreetMap map tiles</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addMarkers</a></span><span class="op">(</span>lng <span class="op">=</span> <span class="va">bike_data</span><span class="op">$</span><span class="va">longitude</span>, 
             lat <span class="op">=</span> <span class="va">bike_data</span><span class="op">$</span><span class="va">latitude</span>, 
             popup <span class="op">=</span> <span class="va">bike_data</span><span class="op">$</span><span class="va">street_address</span>,
             label <span class="op">=</span> <span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">bike_data</span><span class="op">$</span><span class="va">number_of_spots</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-2785bb0db670bc056c01" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-2785bb0db670bc056c01">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[43.653057756,43.671979996,43.655627766,43.654887872,43.672934626,43.657373977,43.66948572,43.658403037,43.66563289,43.659275864,43.671069531,43.670979628,43.662691172,43.656838872,43.661922703,43.670857546,43.651420439,43.651426969,43.670647272,43.670198343,43.670134918,43.670493582,43.671141401,43.675271456,43.658695878,43.654838233,43.659653688,43.659959805,43.656049367,43.654898633,43.653498092,43.665118774,43.662133781,43.656404886,43.667122947,43.66370779,43.670618497,43.667337928,43.667284461,43.670116498,43.668026986,43.667154286,43.668199051,43.653482847,43.673816981,43.663412195,43.654871867,43.656639805,43.657100996,43.658085807,43.670583316,43.666069354,43.652973613,43.659241502,43.674400153,43.669897607,43.658600188,43.65539474,43.668598112,43.666992295,43.673057393,43.659312505,43.659417859,43.658176115,43.651100899,43.650441565,43.659961881,43.679575361,43.656978316,43.668574995,43.669968727,43.668164093,43.674996271,43.662353633,43.653936549,43.658575409,43.667515839,43.660313794,43.668902722,43.655494811,43.666318309,43.658913106,43.671091912,43.670693446,43.668365854,43.656189339,43.67134858,43.672703786,43.656946918,43.667897029,43.659316015,43.655885302,43.662024616,43.66684559,43.655970686,43.665119919,43.663944379,43.663317775,43.684237809,43.661974167,43.672831889,43.674991205,43.655747783,43.671636,43.660263049,43.670843668,43.65289488,43.662840608,43.653412149,43.655443891,43.666211749,43.664554216,43.668721033,43.655089073,43.672304676,43.668720186,43.657309558,43.668000638,43.662125936,43.657653682,43.66647203,43.657166033,43.654498796,43.671483607,43.652244806,43.654159931,43.66383934,43.668379148,43.657545127,43.651729705,43.658458,43.66845436,43.655826482,43.668476987,43.650399902,43.662512476,43.669514654,43.665676174,43.663248335,43.659808724,43.6495721,43.666265817,43.663683276,43.671771568,43.657838871,43.669632843,43.659578477,43.661138146,43.654728168,43.654649501,43.654917179,43.652174032,43.663583051,43.666097794,43.67192525,43.665320766,43.655095468,43.668877842,43.655357757,43.663143307,43.671560038,43.658745167,43.665994271,43.666737364,43.661989468,43.656155034,43.666660741,43.67416364,43.662500924,43.666024318,43.658473109,43.657480049,43.672638332,43.660795991,43.655884745,43.665358352,43.664232582,43.665089609,43.658298845,43.655658379,43.661154307,43.658664781,43.657239633,43.657965654,43.658334124,43.660144855,43.655470872,43.657298926,43.660548295,43.656824088,43.657155486,43.678090457,43.660989813,43.662763656,43.671621523,43.67158212,43.657695481,43.666893094,43.664269276,43.66968952,43.67104083,43.662926913,43.678348747,43.652669026,43.656300339,43.657167007,43.667651467,43.657256086,43.662277767,43.655018413,43.660177675,43.664561789,43.664672004,43.658126355,43.661561522,43.657831153,43.675600879,43.67030154,43.667408915,43.672213056,43.655591863,43.658266696,43.656204293,43.655729061,43.655871222,43.673584024,43.669463472,43.664965589,43.655048749,43.662347548,43.658592838,43.655214364,43.668484443,43.669201636,43.671154723,43.672883099,43.656161757,43.664744906,43.659931943,43.668726671,43.671733541,43.669619979,43.652639916,43.666161316,43.671004166,43.671006927,43.673647112,43.671240862,43.670988412,43.659915,43.65954323,43.65568044,43.658238997,43.665172302,43.662109133,43.66287273,43.656169604,43.672331112,43.660217201,43.654611939,43.660567394,43.665751176,43.656958947,43.667786158,43.659255719,43.660430479,43.682188623,43.675080937,43.655644378,43.658594512,43.658705951,43.65500636,43.669473418,43.657037992,43.656136092,43.650183854,43.666199229,43.668229018,43.655825457,43.669148217,43.675545469,43.663102413,43.658124087,43.675255476,43.653840793,43.6674388,43.675105807,43.675065125,43.668530538,43.664775639,43.663248681,43.655237917,43.658922397,43.659062941,43.650899663,43.665519453,43.659176356,43.66833035,43.664670589,43.665143593,43.665199467,43.671661199,43.67039834,43.671244645,43.670952904,43.670674409,43.671099711,43.654875145,43.65345827,43.652823976,43.673541055,43.666359941,43.670677382,43.663924067,43.664477978,43.674532585,43.675207987,43.67398627,43.674425176,43.67412648,43.662182005,43.663997338,43.663040861,43.668500579,43.655285628,43.661119642,43.671480374,43.660048227,43.679721305,43.659304881,43.662954915,43.661839353,43.66286557,43.654211123,43.658263883,43.659620649,43.65179421,43.655716734,43.668597691,43.662253201,43.664535337,43.656008213,43.671025299,43.655443083,43.652006602,43.672181384,43.674665983,43.666644693,43.668981413,43.674880643,43.658391296,43.673929925,43.655687087,43.652207041,43.654909593,43.662513705,43.680088846,43.66983096,43.655160097,43.674091714,43.674570332,43.659904051,43.660091703,43.660289272,43.658606215,43.65815154,43.672414836,43.672772084,43.668398153,43.653645336,43.656342019,43.654627004,43.666683726,43.657757758,43.668729941,43.664956777,43.65714468,43.671429211,43.66217406,43.680219104,43.657659036,43.657900854,43.662262046,43.664072753,43.656461141,43.656867934,43.66390365,43.66897857,43.669780079,43.670734265,43.657529998,43.656506588,43.656482149,43.658848145,43.671798477,43.672361662,43.671520504,43.671035497,43.662282951,43.671790563,43.671174982,43.666513061,43.681442173,43.672063082,43.655614644,43.654917854,43.677146535,43.673889027,43.65866848,43.670636331,43.657196478,43.657764178,43.661346607,43.675589046,43.675044949,43.67309439,43.658451696,43.668871402,43.656710237,43.65940077,43.659221818,43.661072064,43.664818437,43.657911571,43.660558511,43.662605412,43.656188394,43.657190394,43.665469736,43.668125042,43.654216748,43.65503991,43.675608572,43.669285186,43.670541163,43.670213808,43.670523276,43.674341386,43.674704955,43.668776812,43.669634399,43.671593646,43.665957629,43.658154711,43.659325539,43.670555315,43.670722826,43.665561281,43.666040202,43.665487622,43.667705486,43.666386101,43.664232898,43.664986234,43.664651478,43.664909129,43.661487937,43.682476557,43.655036518,43.655846837,43.657078533,43.658935618,43.65784095,43.664634384,43.661468383,43.664788987,43.659165674,43.655921829,43.656308336,43.657566758,43.658031706,43.658756728,43.664205665,43.664298981,43.664735899,43.668897272,43.669119162,43.668608502,43.65563266,43.654978623,43.656260241,43.65614036,43.66916418,43.674198765,43.670085822,43.65829476,43.656343281,43.655310776,43.658318386,43.65058104,43.651912385,43.651527732,43.668438242,43.663734091,43.654641468,43.656289231,43.657564899,43.660615586,43.659437987,43.655618982,43.65837735,43.656202652,43.656400426,43.659063821,43.656225867,43.666004291,43.665693731,43.666856923,43.67826936,43.682100312,43.666319048,43.667036315,43.670479011,43.657763181,43.655017429,43.656502163,43.655195715,43.655341654,43.657517833,43.654983463,43.655805238,43.655290097,43.67062453,43.667545059,43.668285162,43.670785245,43.669266967,43.67822865,43.663288909,43.66929658,43.671684405,43.666126153,43.670984323,43.666207068,43.674034439,43.656626802,43.656495303,43.658024263,43.656023004,43.656854248,43.659024183,43.658098969,43.658453346,43.658072286,43.654164052,43.656842594,43.651297642,43.650039811,43.650061213,43.652148505,43.651952072,43.660663637,43.657131218,43.657283438,43.654937124,43.654963075,43.656102482,43.655271728,43.655270214,43.656409895,43.655051097,43.6657942,43.667525039,43.666478093,43.665269779,43.665246599,43.651066788,43.652637076,43.662386517,43.655219531,43.662447342,43.654374154,43.662623748,43.662827058,43.670254682,43.669735068,43.654453352,43.654737285,43.675031009,43.670216378,43.658142432,43.67519201,43.666916886,43.674496446,43.673648921,43.673748358,43.674600488,43.674185938,43.670688126,43.673284338,43.675023591,43.669603478,43.672039239,43.671849864,43.65718829,43.655031505,43.658587188,43.655589409,43.658118801,43.656278729,43.65568171,43.655428845,43.670017189,43.675454144,43.675326732,43.669370624,43.672274842,43.671929701,43.662173477,43.661963357,43.655443643,43.671744953,43.672113426,43.656857036,43.65520519,43.669030462,43.672762152,43.668972821,43.671311921,43.670120693,43.665662523,43.665936552,43.672252631,43.672579428,43.672160946,43.670757671,43.662365294,43.661534854,43.662834711,43.668789691,43.663337443,43.656950274,43.658288419,43.655843943,43.660476742,43.661210185,43.67289704,43.664230449,43.675068055,43.673343083,43.674116503,43.65756305,43.670665592,43.66767062,43.674890913,43.676470723,43.674670161,43.654617251,43.683132434,43.672857184,43.672190981,43.671976649,43.664748366,43.669620144,43.670332611,43.673787957,43.671150723,43.669906783,43.66908043,43.668319393,43.667759843,43.666604431,43.661960641,43.665976974,43.652771693,43.656252956,43.654932144,43.6550933,43.662351454,43.654542284,43.658014827,43.656027066,43.656007592,43.672538675,43.662999705,43.654731235,43.662819934,43.662330215,43.655145449,43.662672308,43.655666213,43.662914881,43.655138585,43.662493535,43.655161475,43.664487464,43.659538748,43.665528363,43.675196423,43.655124532,43.667719768,43.674542256,43.657459676,43.656446685,43.655149701,43.657859737,43.663889575,43.665813934,43.660512131,43.669778731,43.670762013,43.669685033,43.670562192,43.670585938,43.668892035,43.67060919,43.665527788,43.673897956,43.674262625,43.671672565,43.671070581,43.670625531,43.665419915,43.665764256,43.671927171,43.665684139,43.665540534,43.666345213,43.668688944,43.672997499,43.655903825,43.653788706,43.655823149,43.656740357,43.65756174,43.656525795,43.657377638,43.657820521,43.668950668,43.674527344,43.675693983,43.674428736,43.675607472,43.674511564,43.670713266,43.669220875,43.663690615,43.664262382,43.655416399,43.67514392,43.674401871,43.671407643,43.67526591,43.674988045,43.672109293,43.669395352,43.669423136,43.656378887,43.654325002,43.655742086,43.652055798,43.654085666,43.655935747,43.652265141,43.67108683,43.664644363,43.664379378,43.663537954,43.663921906,43.664010554,43.670051077,43.65793158,43.656572601,43.658901316,43.658156375,43.655793379,43.65158569,43.650531911,43.6517576,43.651054911,43.660547119,43.661277674,43.661326743,43.66119877,43.656975443,43.655239267,43.654146546,43.65608731,43.65565322,43.656135302,43.654096163,43.656121052,43.658149759,43.657172345,43.670581554,43.672051882,43.672350095,43.660295709,43.656701614,43.658764862,43.658985895,43.655885834,43.654929485,43.656401586,43.657136161,43.654253806,43.656696871,43.652665545,43.653193748,43.657182394,43.655799034,43.656466779,43.655078125,43.671608329,43.671401759,43.671985124,43.672529147,43.662894434,43.661989123,43.651782376,43.660380229,43.655789858,43.652545471,43.652237293,43.654789693,43.655063425,43.654767755,43.652447024,43.654696634,43.655294236,43.671854388,43.671563023,43.652367733,43.668130969,43.667101303,43.665633161,43.665907333,43.666110499,43.66048665,43.66712967,43.675443741,43.665836994,43.666813697,43.680033546,43.677646728,43.679609583,43.680019805,43.681407437,43.651278264,43.652023907,43.65145551,43.652050883,43.650240146,43.651675472,43.650928508,43.651022302,43.651510826,43.65215035,43.652208171,43.651388176,43.649794891,43.659464316,43.6637452,43.673952481,43.674694338,43.673569454,43.657175224,43.67505401,43.675035118,43.674766461,43.671714341,43.670186736,43.657578919,43.656759275,43.657266551,43.656946343,43.657180056,43.671538688,43.669440541,43.674473223,43.671339156,43.675118801,43.675597011,43.674031672,43.657053741,43.656676854,43.657163546,43.657506355,43.656437747,43.672349381,43.684192737,43.659963614,43.660834887,43.670770795,43.659116571,43.662414783,43.656185506,43.656152275,43.662011126,43.654787874,43.656068007,43.654124406,43.653172423,43.65914204,43.660079479,43.67041882,43.670902408,43.670874842,43.670498362,43.663710245,43.654739378,43.662224611,43.655179582,43.655962679,43.662162937,43.654428751,43.654862836,43.654183566,43.65397936,43.660280195,43.670791722,43.666496484,43.667977062,43.665394293,43.667356781,43.671257737,43.66522006,43.665584931,43.666007027,43.665145145,43.671656257,43.665799081,43.672635486,43.66360531,43.658532946,43.663669675,43.663803156,43.664497338,43.663511474,43.663736741,43.665138999,43.664078491,43.663807668,43.672327012,43.658461495,43.656662761,43.665530352,43.666555371,43.666869379,43.678945116,43.664038215,43.664452156,43.651687694,43.649542629,43.651334712,43.650949544,43.651039138,43.657481618,43.674949522,43.653126529,43.662157575,43.654529646,43.655127466,43.655096595,43.662211409,43.653176096,43.66379793,43.663827594,43.668016146,43.662985593,43.654653081,43.651854199,43.654901759,43.655078755,43.652561024,43.669425752,43.667759311,43.657914036,43.674425148,43.674271424,43.674691008,43.675103248,43.669291533,43.674990179,43.665598281,43.665757548,43.669597623,43.671573766,43.671867847,43.665166932,43.665129471,43.669408748,43.666594202,43.665257097,43.652256137,43.651051329,43.672582185,43.65777127,43.657593125,43.656996553,43.655962291,43.663925201,43.664081964,43.663461977,43.664344226,43.664477239,43.651180924,43.651992468,43.650405906,43.649541917,43.651533655,43.662867402,43.654471981,43.658773747,43.662242353,43.658779078,43.662342826,43.660269935,43.660504152,43.659618267,43.65500817,43.655113595,43.655171638,43.654169694,43.654193522,43.670299636,43.665657134,43.667709017,43.674084614,43.674384696,43.658434521,43.65336477,43.656697361,43.656856382,43.655973518,43.658941035,43.654105678,43.674043841,43.669833012,43.67413831,43.654882258,43.655024331,43.656829818,43.654602733,43.653131028,43.663714709,43.666065148,43.666624175,43.665277569,43.666498219,43.655143096,43.652791725,43.655055593,43.649491895,43.654759129,43.655140399,43.655157163,43.662724886,43.662657335,43.65453743,43.657033441,43.656670331,43.651698585,43.650908689,43.651813785,43.655141447,43.655083913,43.655942266,43.659371418,43.663986105,43.659306778,43.664119513,43.673110938,43.674254662,43.674745752,43.67273053,43.665774066,43.673255852,43.674044426,43.662976687,43.66323286,43.660266039,43.656201878,43.654871196,43.656147177,43.656160822,43.655115878,43.665068591,43.66384003,43.663978721,43.664375914,43.664200162,43.665042268,43.654435547,43.655023812,43.655899125,43.657857597,43.6707735,43.671600314,43.670993906,43.671589225,43.671648135,43.67403281,43.667326305,43.656865527,43.656382751,43.663040336,43.686136478,43.673986887,43.67123627,43.670673651,43.674832018,43.668654206,43.65653675,43.656140833,43.656066876,43.663952451,43.662117803,43.658290941,43.66482493,43.670948811,43.657587221,43.675526257,43.658188279,43.654462907,43.669722703,43.67109814,43.669955097,43.670969025,43.674765671,43.674692461,43.665873108,43.667908974,43.669379053,43.667398229,43.660497756,43.67146583,43.672051211,43.671845161,43.657103097,43.662171344,43.662351913,43.660485383,43.6556214,43.658923221,43.657909844,43.659497557,43.670822638,43.671137293,43.663246543,43.669498087,43.668222027,43.660312391,43.674008714,43.654395665,43.657674422,43.662848779,43.661599439,43.663267199,43.661736292,43.667328117,43.6739167,43.665592256,43.661983694,43.662811046,43.662410069,43.66274283,43.672854347,43.668885097,43.6629088,43.658584434,43.654676766,43.659563811,43.665400979,43.65891443,43.670861152,43.671087905,43.66556365,43.671127388,43.66219868,43.658122356,43.665816482,43.671716086,43.662336139,43.668724171,43.659896446,43.672803149,43.663572477,43.668052144,43.654728437,43.657492074,43.657703119,43.671974311,43.654748006,43.666126452,43.670494604,43.671173885,43.671563068,43.666705527,43.655373094,43.679375199,43.655702971,43.655913789,43.652191632,43.660489216,43.669819008,43.657599387,43.668815061,43.650172636,43.659543493,43.657837455,43.665121564,43.674941498,43.675230579,43.667480254,43.655875496,43.66987095,43.655314828,43.652873775,43.65637904,43.669343974,43.669157187,43.66739242,43.675087114,43.6645743,43.675059086,43.656431179,43.662630038,43.660309477,43.656334832,43.66878668,43.657411223,43.655201263,43.673044418,43.669986469,43.664809118,43.658881914,43.650664405,43.675339677,43.674131518,43.662189481,43.663778841,43.655968307,43.655273215,43.67252631,43.656347596,43.652292432,43.666505424,43.652633706,43.656378283,43.678714634,43.661250826,43.654910609,43.665337944,43.665938823,43.652288124,43.652282956,43.671772742,43.662374235,43.67383383,43.65539683,43.67338414,43.674540639,43.670634478,43.655366242,43.655026766,43.673453784,43.674938926,43.657186783,43.669794081,43.655572047,43.667026539,43.670597874,43.673836262,43.670893993,43.66213621,43.655054461,43.668891748,43.667606029,43.669908379,43.656965581,43.673110675,43.6579864,43.665972195,43.672803848,43.664724564,43.665298231,43.654956777,43.67183305,43.672552365,43.669610207,43.661355771,43.673272921,43.663640616,43.678491242,43.657947358,43.653975391,43.664769035,43.655966028,43.658848503,43.671621717,43.657711924,43.66528652,43.662737497,43.665130298,43.673920412,43.655597431,43.663809805,43.657891724,43.66524147,43.655668647,43.652205114,43.651013377,43.671687796,43.660325848,43.673192835,43.667875435,43.663837207,43.678748585,43.669882123,43.664338688,43.653199191,43.655400964,43.671513371,43.655376358,43.653943227,43.655548462,43.654589276,43.662906936,43.664587681,43.667261065,43.674025669,43.66891575,43.655416089,43.675320398,43.651463333,43.655761872,43.664951678,43.655360322,43.655007101,43.669730056,43.674718547,43.657833275,43.662692563,43.667277503,43.652653775,43.657927734,43.664960635,43.65698825,43.675170726,43.672486477,43.649766104,43.654206963,43.671539663,43.662614073,43.664270421,43.660735439,43.662473035,43.662786694,43.674470113,43.667894447,43.657689542,43.654263962,43.672057855,43.653201843,43.657693641,43.66230182,43.661541979,43.654969239,43.665561488,43.684564876,43.672042653,43.662444519,43.670494813,43.66245222,43.653279802,43.662742869,43.662393659,43.660775387,43.675250499,43.660048816,43.663318807,43.657778771,43.674622692,43.654327853,43.666541258,43.654584677,43.657678609,43.656722252,43.659625385,43.667607184,43.668067828,43.662233212,43.674685703,43.672302723,43.663776572,43.664424075,43.671697268,43.653661591,43.663902625,43.656126445,43.661771516,43.674598119,43.654994597,43.656194111,43.659548834,43.675505713,43.662330458,43.666708976,43.669354258],[-79.400127413,-79.395325446,-79.392067935,-79.399866469,-79.388268569,-79.386162758,-79.40486406,-79.397893094,-79.399139688,-79.420396146,-79.390161764,-79.390123544,-79.403579361,-79.406360208,-79.407378062,-79.421305252,-79.410691095,-79.41066586,-79.394814997,-79.394870691,-79.394842191,-79.386772371,-79.38426737,-79.401567016,-79.382093162,-79.420866059,-79.419254982,-79.409014824,-79.409242601,-79.419928597,-79.406602852,-79.387555027,-79.386356476,-79.383723107,-79.412092735,-79.417410566,-79.426125652,-79.427790051,-79.419800735,-79.421032504,-79.403217407,-79.402853689,-79.396974415,-79.395734575,-79.411993158,-79.410407798,-79.399946861,-79.383961178,-79.399501074,-79.384456875,-79.393673927,-79.411338642,-79.40127717,-79.390458711,-79.409266899,-79.384155943,-79.390321184,-79.396916521,-79.395003695,-79.388427745,-79.41510412,-79.392583975,-79.392089692,-79.383772059,-79.412259113,-79.41551207,-79.389448548,-79.390512087,-79.407813754,-79.40033004,-79.392467299,-79.399919199,-79.393205427,-79.386616907,-79.406568448,-79.400488593,-79.392641887,-79.400406629,-79.385050466,-79.388874168,-79.405842045,-79.395230086,-79.384246025,-79.389485516,-79.411082442,-79.381908636,-79.403085454,-79.414071998,-79.39942968,-79.398392484,-79.396562305,-79.411053169,-79.425125392,-79.402566583,-79.409743566,-79.411567297,-79.416321736,-79.419220999,-79.391134661,-79.425367395,-79.414329308,-79.407315283,-79.383968587,-79.387245128,-79.389176852,-79.392835184,-79.398462767,-79.403491525,-79.398411155,-79.398836465,-79.406349406,-79.400523792,-79.400072365,-79.414153836,-79.390459737,-79.38895092,-79.395375196,-79.397084044,-79.406362304,-79.402277891,-79.404358009,-79.385275688,-79.421858703,-79.387179234,-79.413399045,-79.400006808,-79.416819989,-79.397643844,-79.383550783,-79.409134051,-79.415051647,-79.395680554,-79.386485718,-79.393900206,-79.415726433,-79.404438888,-79.396374387,-79.407418016,-79.398242414,-79.385531965,-79.41981449,-79.406092543,-79.418153691,-79.421099347,-79.384725716,-79.390723942,-79.39133192,-79.383842354,-79.418959106,-79.389655348,-79.399015352,-79.406948106,-79.417983233,-79.405263719,-79.401536456,-79.399229668,-79.414758144,-79.386106988,-79.412807533,-79.401403775,-79.383246906,-79.386551962,-79.406767652,-79.401429876,-79.406977847,-79.393018148,-79.404201444,-79.388257294,-79.404507644,-79.406620785,-79.397542911,-79.385963285,-79.406088669,-79.385451188,-79.383906847,-79.410418487,-79.41209747,-79.413887605,-79.392028292,-79.387944726,-79.383781097,-79.384436311,-79.384952016,-79.387997509,-79.386526214,-79.387332615,-79.388089754,-79.386131749,-79.386531038,-79.386981895,-79.385331797,-79.390235486,-79.38455051,-79.421742961,-79.38869656,-79.422176173,-79.400121258,-79.403127528,-79.410953051,-79.420850745,-79.387356293,-79.406339977,-79.390192036,-79.399532661,-79.407531013,-79.403668603,-79.398781664,-79.385870251,-79.387538789,-79.415165133,-79.398431085,-79.414138068,-79.412987147,-79.392838972,-79.38632452,-79.392842317,-79.3891635,-79.382744815,-79.400727563,-79.389854447,-79.39188679,-79.391427277,-79.392801127,-79.389560059,-79.390830076,-79.388037016,-79.396623646,-79.400516823,-79.403741392,-79.386642415,-79.385687519,-79.387302965,-79.38908566,-79.389135207,-79.390927832,-79.415912312,-79.408688256,-79.413591494,-79.399873935,-79.386393809,-79.388607355,-79.381691119,-79.399684179,-79.403625713,-79.391157463,-79.391639211,-79.411564283,-79.395050425,-79.394949504,-79.399224388,-79.385184955,-79.411080101,-79.418965526,-79.400653098,-79.425362042,-79.399879133,-79.392096475,-79.377358792,-79.385719553,-79.421290534,-79.397063179,-79.40793442,-79.40573994,-79.398926617,-79.389962682,-79.388220896,-79.390765423,-79.393904212,-79.402400448,-79.397252889,-79.396634874,-79.399681695,-79.394280176,-79.408038664,-79.393130522,-79.416823534,-79.393590627,-79.404364835,-79.410368183,-79.412677583,-79.403419484,-79.410489885,-79.400295621,-79.405582282,-79.406536236,-79.401756937,-79.406266308,-79.405714867,-79.395334037,-79.413152956,-79.401996492,-79.413399229,-79.39031503,-79.385726787,-79.413255124,-79.409663522,-79.393210393,-79.400228953,-79.41112133,-79.411456639,-79.409837456,-79.395490548,-79.390393095,-79.390975162,-79.391890178,-79.389582687,-79.387387234,-79.398615253,-79.398051905,-79.406117129,-79.388216843,-79.405642411,-79.389126739,-79.400270573,-79.40049193,-79.388443123,-79.388714247,-79.388398965,-79.388594175,-79.388471543,-79.399573931,-79.398722338,-79.402544054,-79.397483507,-79.38878297,-79.387815574,-79.421861676,-79.398575906,-79.390773345,-79.386792436,-79.410430861,-79.407786336,-79.402755202,-79.392249759,-79.398589737,-79.418679115,-79.408809326,-79.411881073,-79.404509446,-79.406524572,-79.387370466,-79.385366769,-79.384367185,-79.41303701,-79.402727386,-79.387302844,-79.379423746,-79.401404413,-79.40356724,-79.406586977,-79.391590224,-79.368566886,-79.395455036,-79.401761116,-79.40350167,-79.42289402,-79.390905589,-79.393487632,-79.416662535,-79.38845365,-79.388641149,-79.401643093,-79.398970132,-79.397443332,-79.400497711,-79.399913488,-79.418066802,-79.39592674,-79.406766231,-79.419905096,-79.402843298,-79.401262444,-79.403274284,-79.384690245,-79.403350645,-79.4009807,-79.384418064,-79.38452764,-79.406081294,-79.390960983,-79.402922753,-79.381781401,-79.424044988,-79.410877877,-79.385697138,-79.386058234,-79.4165269,-79.394134902,-79.393734034,-79.388841194,-79.389750178,-79.4065868,-79.408157433,-79.395962546,-79.385008036,-79.384917024,-79.384426306,-79.389916446,-79.406344464,-79.391952522,-79.390205986,-79.40542157,-79.391170174,-79.378715414,-79.412378293,-79.399826813,-79.388963761,-79.411831247,-79.393164908,-79.40099216,-79.405207143,-79.400664638,-79.401628042,-79.403957118,-79.406595878,-79.390404279,-79.393073937,-79.404833765,-79.396171502,-79.392959111,-79.389948311,-79.414811137,-79.38747414,-79.400986433,-79.414909903,-79.42246862,-79.392431806,-79.395142909,-79.411440773,-79.404544386,-79.400537104,-79.388951908,-79.403110076,-79.397477996,-79.427111645,-79.428632219,-79.427196982,-79.398003283,-79.400711417,-79.399800893,-79.39582301,-79.388818061,-79.406927334,-79.384843197,-79.385327348,-79.413442704,-79.413505874,-79.408716066,-79.406544547,-79.409204416,-79.412316842,-79.404904432,-79.415633922,-79.411559159,-79.413090709,-79.411925502,-79.409441644,-79.391690936,-79.388066396,-79.388491045,-79.389020261,-79.390042418,-79.389360428,-79.387415306,-79.413778619,-79.403025901,-79.386901777,-79.386759306,-79.384235157,-79.389089874,-79.385171278,-79.384003881,-79.415762921,-79.415329628,-79.413351111,-79.385077131,-79.390826731,-79.387522038,-79.384503894,-79.387577076,-79.381570926,-79.392627044,-79.400591589,-79.399665837,-79.391902108,-79.397590559,-79.399198208,-79.398761913,-79.39747204,-79.42113264,-79.40824463,-79.410131444,-79.393882076,-79.411901378,-79.414218076,-79.389608356,-79.384612304,-79.385883371,-79.385376525,-79.398902578,-79.397168289,-79.399531358,-79.399633592,-79.394525118,-79.408409287,-79.407342154,-79.408822587,-79.403305569,-79.389967392,-79.391223102,-79.399159377,-79.401389294,-79.381450926,-79.413608087,-79.420233141,-79.40805938,-79.414270113,-79.413529974,-79.413508381,-79.414653341,-79.411544624,-79.418518896,-79.426105734,-79.399257169,-79.395688444,-79.380085457,-79.386267979,-79.390230965,-79.386828934,-79.420767679,-79.420790563,-79.419512046,-79.414895416,-79.41954443,-79.391925045,-79.399313354,-79.392442862,-79.391320314,-79.393168444,-79.399397473,-79.393927464,-79.398586504,-79.396731385,-79.398721882,-79.398315578,-79.399800232,-79.411267447,-79.417538693,-79.417398584,-79.414410268,-79.408063317,-79.416512651,-79.399929246,-79.399987448,-79.416058632,-79.416251807,-79.409967894,-79.418640289,-79.417399574,-79.408483634,-79.414334271,-79.408348926,-79.400179611,-79.405074152,-79.410855509,-79.410957175,-79.41242613,-79.401332508,-79.424080197,-79.413490274,-79.423806696,-79.422445503,-79.423004209,-79.421458377,-79.380101027,-79.382510374,-79.391418755,-79.391695688,-79.403466465,-79.398578925,-79.398366395,-79.407354699,-79.403817285,-79.409074814,-79.406725847,-79.406754683,-79.408686346,-79.40975695,-79.393166282,-79.395784524,-79.395523991,-79.413243023,-79.385144779,-79.384785492,-79.399523966,-79.399038931,-79.396962448,-79.399306579,-79.399430313,-79.40908997,-79.412050103,-79.413104271,-79.428773826,-79.397158328,-79.401657332,-79.397067158,-79.389509839,-79.391639585,-79.410110592,-79.407061138,-79.385375922,-79.392163588,-79.390747203,-79.381615677,-79.414202861,-79.389312138,-79.414096527,-79.412816804,-79.413534021,-79.413265988,-79.408365401,-79.407052368,-79.413901325,-79.414034195,-79.413866376,-79.380306671,-79.404838726,-79.409293126,-79.402871714,-79.402079418,-79.402391868,-79.381805085,-79.389525485,-79.387158798,-79.38718571,-79.383506342,-79.415147075,-79.418616026,-79.391137941,-79.390858184,-79.406904305,-79.384352315,-79.393261793,-79.40436678,-79.395270699,-79.397159576,-79.396250532,-79.400597307,-79.391991448,-79.389634372,-79.378031054,-79.419309914,-79.413710103,-79.413145925,-79.413497611,-79.389906833,-79.405512411,-79.40501271,-79.408595086,-79.407142577,-79.404388665,-79.405512336,-79.389078429,-79.393513559,-79.401398711,-79.404068805,-79.400047291,-79.399266835,-79.424618857,-79.421644758,-79.385247498,-79.393086772,-79.393238172,-79.395831632,-79.421296201,-79.421374157,-79.421487911,-79.42569812,-79.418013589,-79.422780684,-79.411177734,-79.421044911,-79.418503355,-79.423000663,-79.417719387,-79.412157771,-79.419802764,-79.403249465,-79.405869585,-79.386898478,-79.399998868,-79.397952966,-79.400021189,-79.40830477,-79.419512157,-79.384733943,-79.418466685,-79.419247889,-79.414376608,-79.413129784,-79.383156689,-79.381389832,-79.426376488,-79.426268189,-79.386301693,-79.4212129,-79.409957221,-79.411119155,-79.409111177,-79.405723366,-79.409163355,-79.405523041,-79.409522619,-79.407870698,-79.413771206,-79.411524126,-79.408945031,-79.411782359,-79.412708551,-79.414395966,-79.393757676,-79.394259252,-79.394071962,-79.406838912,-79.401683535,-79.406846859,-79.403719373,-79.382178193,-79.389277971,-79.397048664,-79.403431062,-79.400601593,-79.40244351,-79.398112217,-79.401215026,-79.412703728,-79.411883398,-79.390786526,-79.407173997,-79.394959182,-79.396322188,-79.393256579,-79.394000513,-79.395705333,-79.401610818,-79.3974179,-79.396805448,-79.401495287,-79.402009503,-79.404661211,-79.40246163,-79.401743386,-79.402512171,-79.401465007,-79.38048054,-79.413138298,-79.414967905,-79.418208075,-79.417048556,-79.416646153,-79.392055429,-79.399441707,-79.399292126,-79.394502533,-79.399248371,-79.410511217,-79.40985132,-79.415066336,-79.408984845,-79.42114186,-79.387768843,-79.387138286,-79.386914334,-79.387480018,-79.381685051,-79.399164003,-79.398721513,-79.399498835,-79.412192871,-79.409832408,-79.413668641,-79.389590289,-79.392719082,-79.385247205,-79.386802207,-79.387606499,-79.38773401,-79.415426266,-79.396217428,-79.395127105,-79.394102407,-79.399016112,-79.414924836,-79.408523837,-79.405141798,-79.392063562,-79.407075975,-79.406061042,-79.397144822,-79.404578589,-79.394257889,-79.40287509,-79.403271444,-79.385877635,-79.386853301,-79.390561061,-79.390560117,-79.403286207,-79.407786643,-79.414266478,-79.415662009,-79.404552551,-79.400099533,-79.40162741,-79.400454445,-79.399417136,-79.400565286,-79.400577004,-79.40215484,-79.402122744,-79.391650822,-79.390374068,-79.400978583,-79.397257268,-79.402197914,-79.409124129,-79.407798955,-79.406833278,-79.387960535,-79.402653904,-79.403823118,-79.408143581,-79.403484741,-79.39069793,-79.38991302,-79.39052337,-79.390694346,-79.391157623,-79.411376278,-79.407690605,-79.410496758,-79.407560285,-79.416528555,-79.409391002,-79.413097146,-79.412644812,-79.410233143,-79.40707885,-79.406811701,-79.410825233,-79.418739858,-79.411157835,-79.418412826,-79.410873634,-79.408231327,-79.406470602,-79.404625397,-79.39444,-79.394551139,-79.395865778,-79.393384983,-79.428735433,-79.402588026,-79.405664431,-79.404213304,-79.40464558,-79.403357464,-79.401367255,-79.396725223,-79.39729699,-79.401282254,-79.401310926,-79.403167615,-79.402838322,-79.404164136,-79.407183564,-79.403608189,-79.403076147,-79.407160303,-79.377241845,-79.392397275,-79.389421099,-79.386231846,-79.387127405,-79.385003823,-79.42394641,-79.408592256,-79.408752247,-79.42518124,-79.421103219,-79.409155098,-79.403221914,-79.402835816,-79.420997895,-79.417235447,-79.382990777,-79.392145216,-79.388457767,-79.390272737,-79.400187274,-79.420690632,-79.424820171,-79.413678426,-79.409675721,-79.425114978,-79.422174642,-79.420744212,-79.399877151,-79.400487949,-79.415513993,-79.392689869,-79.411839555,-79.41242391,-79.409644618,-79.400184693,-79.413511767,-79.410474454,-79.408502944,-79.406705799,-79.410834959,-79.413867984,-79.411567432,-79.414263051,-79.399206793,-79.400473766,-79.417611656,-79.416992269,-79.414424025,-79.418301784,-79.417911958,-79.411476288,-79.415735392,-79.417588646,-79.387534662,-79.393077784,-79.407428587,-79.409610192,-79.404706967,-79.403250596,-79.390227302,-79.40231028,-79.398657563,-79.409340678,-79.419973289,-79.411098839,-79.412985729,-79.412566651,-79.395440914,-79.401080677,-79.397931108,-79.424513411,-79.422325738,-79.417305106,-79.417060695,-79.425648736,-79.40285411,-79.413400942,-79.411935684,-79.393712242,-79.390268448,-79.401141534,-79.4034648,-79.40353088,-79.402745452,-79.400028708,-79.389467841,-79.388767545,-79.399525823,-79.400581911,-79.398341184,-79.400685222,-79.40130911,-79.397378246,-79.403451383,-79.409295329,-79.408514248,-79.395967428,-79.38892621,-79.413952267,-79.410728818,-79.410909816,-79.41298434,-79.404529986,-79.410913039,-79.421755277,-79.412500394,-79.388069363,-79.382477139,-79.38332738,-79.381579832,-79.383949618,-79.416427919,-79.41629621,-79.418533445,-79.414495096,-79.414530203,-79.411843174,-79.407874822,-79.415698974,-79.420734684,-79.410100926,-79.42125985,-79.421976305,-79.395078858,-79.425664085,-79.422821731,-79.424275553,-79.415563252,-79.415170765,-79.419436064,-79.415257813,-79.415812285,-79.419379284,-79.400517502,-79.400530583,-79.420952846,-79.412653488,-79.419962196,-79.391598895,-79.40929481,-79.415045524,-79.401468245,-79.402960603,-79.403020128,-79.402657339,-79.394326068,-79.398287796,-79.41043876,-79.405001961,-79.406685644,-79.40030231,-79.403731592,-79.406613782,-79.398896188,-79.398305848,-79.387005456,-79.407051177,-79.404386611,-79.410819541,-79.404980327,-79.418088175,-79.398972985,-79.403382191,-79.420246794,-79.421243741,-79.418167453,-79.417586808,-79.422557598,-79.422245931,-79.418895794,-79.405378396,-79.407398491,-79.409285448,-79.413204487,-79.408715387,-79.418302808,-79.417000221,-79.409789668,-79.420596861,-79.412142152,-79.420250243,-79.4121928,-79.399379525,-79.398446134,-79.396877345,-79.414297942,-79.411555985,-79.388102056,-79.388425575,-79.402812048,-79.401762032,-79.400267295,-79.409519736,-79.415337179,-79.409780713,-79.409705227,-79.419677028,-79.411801069,-79.417429563,-79.416791085,-79.414361191,-79.415179942,-79.411948586,-79.394184195,-79.407015141,-79.39378278,-79.401221064,-79.389802308,-79.390390668,-79.389896394,-79.42121178,-79.420969359,-79.390027902,-79.3996357,-79.406203689,-79.407401911,-79.410465401,-79.375895874,-79.41070625,-79.393287015,-79.393221261,-79.395563288,-79.394734611,-79.392455783,-79.393107553,-79.392978125,-79.410830484,-79.406439779,-79.390050103,-79.410979882,-79.392333771,-79.401564984,-79.404271736,-79.386012778,-79.391020989,-79.393641381,-79.391617115,-79.392853896,-79.392235446,-79.388726314,-79.388698877,-79.403435286,-79.403146933,-79.386201283,-79.392575777,-79.415199503,-79.3803793,-79.385260024,-79.392039534,-79.408062901,-79.406815227,-79.406178842,-79.385819182,-79.384554761,-79.385158061,-79.384753626,-79.385165353,-79.39291549,-79.391422141,-79.401599553,-79.386548384,-79.39736882,-79.39733609,-79.377536286,-79.422308886,-79.401996208,-79.403845049,-79.408901819,-79.410554662,-79.408364881,-79.401453629,-79.405374824,-79.407389943,-79.410033989,-79.403626486,-79.405617353,-79.403337715,-79.389599956,-79.403528786,-79.4032266,-79.393326583,-79.422709629,-79.392197288,-79.403221001,-79.396162133,-79.392328423,-79.387441083,-79.40097041,-79.387040903,-79.399578823,-79.399902879,-79.403404236,-79.388221371,-79.401635951,-79.402049992,-79.385571399,-79.390879639,-79.41067358,-79.407956867,-79.420753547,-79.401967934,-79.400910523,-79.391063666,-79.400942737,-79.406138074,-79.391046742,-79.390831962,-79.421347294,-79.411921275,-79.41338233,-79.390607451,-79.398940978,-79.410907939,-79.401847241,-79.414490092,-79.382738412,-79.401513148,-79.386081185,-79.416871429,-79.419777334,-79.382093266,-79.403103188,-79.403431985,-79.394541742,-79.400438766,-79.411539577,-79.384277488,-79.412994025,-79.401436636,-79.408637061,-79.41296192,-79.402230589,-79.412197672,-79.400024121,-79.413448479,-79.395362221,-79.402704194,-79.422373905,-79.415364042,-79.399575926,-79.399754016,-79.399627738,-79.399131294,-79.406253895,-79.413212731,-79.412969006,-79.422988883,-79.421166969,-79.393491924,-79.410022725,-79.424971724,-79.412053885,-79.393446207,-79.407323837,-79.414003339,-79.40879951,-79.401349343,-79.404944321,-79.414591609,-79.392389645,-79.390356815,-79.386121784,-79.41502403,-79.410534465,-79.407655185,-79.406410898,-79.406428906,-79.413917555,-79.423542104,-79.411431585,-79.385590031,-79.413587889,-79.392820244,-79.394766711,-79.399205626,-79.414440902,-79.402391306,-79.395051605,-79.403335497,-79.393280347,-79.412737524,-79.412049592,-79.421208815,-79.389930467,-79.405624874,-79.424616772,-79.416892392,-79.412786637,-79.412280072,-79.413182117,-79.38172826,-79.414155896,-79.384986053,-79.406875446,-79.414121078,-79.413376312,-79.410725126,-79.414796058,-79.392101289,-79.387806784,-79.394179583,-79.401636053,-79.387917549,-79.417720091,-79.390058042,-79.399349767,-79.40187068,-79.41256061,-79.410656838,-79.400574092,-79.392765151,-79.40012795,-79.410164006,-79.403367249,-79.409807727,-79.391723772,-79.412449661,-79.416948217,-79.384747291,-79.410375247,-79.412107542,-79.406798128,-79.412683221,-79.392822735,-79.415282747,-79.402200579,-79.412383442,-79.412076762,-79.390369058,-79.384221475,-79.412282687,-79.397957225,-79.413235511,-79.405640323,-79.407158472,-79.401855152,-79.4117072,-79.422034473,-79.406330329,-79.414032299,-79.404202604,-79.406878093,-79.403422112,-79.399233314,-79.404497981,-79.410466819,-79.407518819,-79.401001856,-79.391953634,-79.399043893,-79.382705057,-79.401126967,-79.401326072,-79.422688676,-79.412153485,-79.399780403,-79.38524767,-79.412291533,-79.405587892,-79.400064766,-79.387787626,-79.418876874,-79.401782091,-79.393181961,-79.404573183,-79.397987825,-79.386797523,-79.423680013,-79.403112919,-79.406819514,-79.403162035,-79.401042578,-79.409525663,-79.385315376,-79.397103446,-79.400965485,-79.42387107,-79.409266872,-79.41474192,-79.409466296,-79.392543428,-79.391086356,-79.404689806,-79.394743913,-79.405449132,-79.396736247,-79.422468801,-79.405680513,-79.413631701,-79.388732036,-79.401555707,-79.39041733,-79.401641062,-79.379628491,-79.391684627,-79.40477296,-79.402122228,-79.402181689,-79.406947064,-79.419399968,-79.38872212,-79.407868745,-79.40581266,-79.379337314,-79.387714806,-79.417732319,-79.414155822,-79.388308599,-79.39812478,-79.400262407,-79.399510234,-79.408166702,-79.400942581,-79.399041456,-79.409552501,-79.419752723,-79.396708445,-79.423720328,-79.406951447,-79.38943471],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["8 Kensington Ave","87 Avenue Rd","162 Mc Caul St","147 Baldwin St","888 Yonge St","180 Elizabeth St","59 Spadina Rd","230 College St","2 Sussex Ave","563 Crawford St","1256 Bay St","1262 Bay St","93 Harbord St","410 College St","169 Harbord St","258 Christie St","862 Dundas St W","858 Dundas St W","41 Avenue Rd","36 Avenue Rd","34 Avenue Rd","NA Yonge St","NA Park Rd","354 Davenport Rd","NA NA","784 College St","332 Harbord St","623 Bathurst St","489 College St","747 College St","382 Bathurst St","1000 Bay St","832 Bay St","595 Bay St","864 Bathurst St","699 Bloor St W","789 Dupont St","953 Ossington Ave","149 Christie St","238 Christie St","18 Madison Ave","316 Bloor St W","238 Bloor St W","438 Dundas St W","420 Dupont St","693 Bathurst St","149 Baldwin St","66 Edward St","421 Spadina Ave","655 Bay St","135 Yorkville Ave","819 Bathurst St","165 Augusta Ave","700 University Ave","330 Dupont St","46 Hayden St","11 Orde St","100 Baldwin St","192 Bloor St W","1076 Bay St","488 Dupont St","155 College St","149 College St","33 Walton St","904 Dundas St W","994 Dundas St W","101 College St","1087 Yonge St","499 Bathurst St","178 St George St","144 Cumberland St","262 Bloor St W","47 Hillsboro Ave","860 Bay St","12 Lippincott St","502 Spadina Ave","140 Charles St W","568 Spadina Cres","20 Charles St E","500 University Ave","366 Bloor St W","184-200 College St","120 Bloor St E","62 Cumberland St","83 Albany Ave","40 Dundas St W","559 Huron St","1081 Bathurst St","411 Spadina Ave","248 Bloor St W","20 St George St","534 College St","873 1/2 Bloor St W","371 Bloor St W","499 College St","562 Bloor St W","675 Bloor St W","745 Bloor St W","22 Woodlawn Ave E","889 Bloor St W","1094 Bathurst St","284 Dupont St","594 Bay St","789 Yonge St","112 College St","110 Yorkville Ave","292 Spadina Ave","100 Harbord St","310-316 Spadina Ave","132A Baldwin St","380 Bloor St W","370 Huron St","75 Prince Arthur Ave","601 College St","1315 Bay St","44 Charles St W","214 Beverley St","299 Bloor St W","145 Harbord St","312 College St","750 Spadina Ave","76 Elm St","807 College St","773 Yonge St","210 Bellwoods Ave","28 St Andrew St","687 Bloor St W","246 Bloor St W","40 Elm St","824 Dundas St W","158 Clinton St","206A Bloor St W","123 Edward St","153 Bloor St W","1004 Dundas St W","111 Harbord St","23 Prince Arthur Ave","483 Bloor St W","110 St George St","754 Bay St","12 Roxton Rd","376 Bloor St W","728 Bloor St W","650 Dupont St","690 Bay St","10 Bellair St","129 College St","23 College St","731 College St","250 Dundas St W","368 Spadina Ave","764 Dundas St W","715 Bloor St W","320 Robert St","217 St George St","140 St George St","614 College St","681 Yonge St","565 College St","55 Harbord St","160 Bloor St E","90 Gerrard St W","469 Bloor St W","468 Huron St","159 Harbord St","18 Baldwin St","334 Bloor St W","887 Yonge St","117 Harbord St","465 Bloor St W","224 College St","175 Elizabeth St","161 Spadina Rd","777 Bay St","600 Bay St","508 Bloor St W","599 Markham St","560 Palmerston Ave","18 Orde St","136 Edward St","21 College St","711 Bay St","72 Elm St","150 Gerrard St W","190 Elizabeth St","220 Elizabeth St","137 Edward St","170 Elizabeth St","61 College St","555 University Ave","78 Elm St","1088 Yonge St","27 College St","811 Bloor St W","19A Yorkville Ave","672 Dupont St","464 Spadina Ave","322 Bloor St W","754 Bathurst St","222 Christie St","826 Yonge St","194 Brunswick Ave","1098 Yonge St","558 Dundas St W","431 College St","357 College St","124 Devonshire Pl","88 Elm St","60 Grosvenor St","626 College St","16 Russell St","622 Bloor St W","599 Bloor St W","255 Mc Caul St","57 Grenville St","235 Mc Caul St","1000 Yonge St","175 Bloor St E","270 Bloor St W","55 Scollard St","153 Mc Caul St","19 Orde St","16 Baldwin St","522 University Ave","222 St Patrick St","839 Yonge St","25 Prince Arthur Ave","20 Sussex Ave","72 Bellevue Ave","45 Grosvenor St","84 Gerrard St W","195B Dundas St W","1132 Bay St","55 Bloor St W","29 Bellair St","522 Dupont St","469 College St","610 Bloor St W","487 Spadina Cres","30 Charles St W","22 Yorkville Ave","80 Charles St E","560 Dundas St W","742 Spadina Ave","75 Yorkville Ave","83 Yorkville Ave","267 Howland Ave","55 Avenue Rd","51 Avenue Rd","33 Russell St","767 Bay St","531 College St","264 Beatrice St","24 Sussex Ave","888 Bloor St W","320 Huron St","222 Elm St","388 Bloor St W","770 Bay St","799 College St","2 Russell St","495 Bloor St W","396 College St","135 St George St","661 University Ave","100 College St","18 Shaftesbury Ave","185 Davenport Rd","64 Nassau St","222 College St","214-220 College St","146 Baldwin St","180 Cumberland St","506 Bathurst St","24 Baldwin St","1034 Dundas St W","78 Queen's Park","25 Spadina Rd","308 Palmerston Ave","909 Bathurst St","171 Dupont St","718 Bathurst St","268 College St","232 Dupont St","148 Nassau St","470 Huron St","248 Dupont St","215 Madison Ave","200 Bloor St W","602 Bloor St W","631 Spadina Ave","585 College St","620 University Ave","730 Bay St","928 Dundas St W","490 Bloor St W","167 College St","174 St George St","782 Bathurst St","558 Bloor St W","537 Bloor St W","66 Avenue Rd","87 Cumberland St","70A Yorkville Ave","97 Yorkville Ave","1233 Bay St","4 Cumberland St","337 Spadina Ave","293-299 Spadina Ave","399 Bathurst St","900 Yonge St","362 Bloor St W","1221 Bay St","354 Huron St","364 Huron St","889 Yonge St","980 Yonge St","912 Yonge St","932 Yonge St","926 Yonge St","20 Willcocks St","120 St George St","648 Spadina Ave","5 Bedford Rd","490 University Ave","10 Surrey Pl","677 Dupont St","25 Russell St","1134 Yonge St","201 Elizabeth St","710 Bathurst St","175 Harbord St","73 Harbord St","324 Dundas St W","250 College St","333 Harbord St","806 Dundas St W","546 College St","39 Spadina Rd","172 Harbord St","956 Bay St","143 Elizabeth St","100 Bloor St E","572 College St","634 Dundas St W","848A Yonge St","11 Elm Ave","420 Huron St","38 Madison Ave","245 Dupont St","16 Orde St","630 Bloor St E","50 Baldwin St","618 Dundas St W","61 Bellevue Ave","831 Bloor St W","1148 Yonge St","158 Cumberland St","634 College St","922 Yonge St","934 Yonge St","548 Spadina Cres","22 Russell St","44 St George St","508 Spadina Ave","455 Spadina Ave","566 Dupont St","98 Avenue Rd","38 Walmer Rd","191R Roxton Rd","256D Augusta Ave","191 Baldwin St","725 Spadina Ave","686 Bay St","37 Madison Ave","380 Huron St","55 Elm St","8 Park Rd","141 Harbord St","1156 Yonge St","340 College St","2 Elm St","857 Bloor St W","746 Bathurst St","150 Elizabeth St","87 Elm St","677 Bloor St W","162 Bloor St W","164 Cumberland St","50 Bloor St W","574 University Ave","409 1/2 College St","454 College St","200 College St","40 Asquith Ave","97 Collier St","17 Park Rd","1255 Bay St","172 Brunswick Ave","97 Scollard St","1254 Bay St","3 Walmer Rd","1133 Yonge St","350 Bloor St E","562 College St","161 Baldwin St","6 Crescent Rd","414 Dupont St","263 Mc Caul St","163 St George St","3 Borden St","271 College St","594 Spadina Ave","190 Dupont St","266 Dupont St","869 Yonge St","240 Mc Caul St","24 Spadina Rd","25 Cecil St","170 College St","661 College St","609-615 Manning Ave","960 Bay St","280 College St","538 Manning Ave","825 Bloor St W","3 Baldwin St","207 Beverley St","794 Bathurst St","16 Spadina Rd","56D Kensington Ave","488 University Ave","163 Dupont St","39 Prince Arthur Ave","828 Dupont St","860 Dupont St","840 Dupont St","261 Davenport Rd","326 Davenport Rd","141 St George St","14 Prince Arthur Ave","25 Yorkville Ave","473 Bloor St W","700 Bay St","64-72 Hayter St","1002 Bathurst St","1012 Bathurst St","511 Bloor St W","461 Bloor St W","525 Bloor St W","896A Bathurst St","425 Bloor St W","656A Bloor St W","571 Bloor St W","605 Bloor St W","605 Markham St","219 Harbord St","1177 Yonge St","465 University Ave","525 University Ave","110 Elm St","657 University Ave","585 University Ave","958 Bay St","286 Harbord St","698 Spadina Ave","200 Elizabeth St","118 Edward St","610 Bay St","550 University Ave","96 Walton St","44 Gerrard St W","660 Bloor St W","648A Bloor St W","604 Bloor St W","20A Charles St E","95A Bloor St W","37 Charles St W","128 Dundas St W","210 Dundas St W","20 Dundas St W","5 Baldwin St","186 St George St","287 Davenport Rd","115 Cumberland St","233A College St","381 Spadina Ave","349 Spadina Ave","229 College St","287 Ossington Ave","796 Dundas St W","846 Dundas St W","125 Queen's Park","589 Markham St","6 Gore St","176 Elm St","674 Bay St","59 College St","740-746 Bay St","355 Spadina Ave","223 College St","412 Spadina Ave","422 Spadina Ave","184 College St","459 College St","398 Bloor St W","444 Bloor St W","326 Bloor St W","2 Roxborough St E","12 Shaftesbury Ave","121 St George St","351 Bloor St W","80 Hayden St","460 Manning Ave","766 College St","452 College St","602 College St","590 College St","414 Manning Ave","615 College St","394 Euclid Ave","710 College St","787 Dupont St","317 Bloor St W","235 Bloor St W","1 Ted Rogers Way","707 Yonge St","2 Roxborough St W","880 Bay St","208 Christie St","641 Dupont St","118 Christie St","40 Rossmore Rd","105 Christie St","101 Davenport Rd","397 Spadina Ave","180 Mc Caul St","60 Murray St","27 Baldwin St","405 Spadina Ave","175 College St","245-247 College St","219 College St","243 College St","323 Spadina Ave","6 Oxford St","872 Dundas St W","1052 Dundas St W","256 Crawford St","65 Grace St","790 Dundas St W","246 Clinton St","442-444 Spadina Ave","454 Spadina Ave","651 College St","657 College St","307 Palmerston Blvd","712 College St","706 College St","460 College St","605 College St","436 Bloor St W","264 Bloor St W","360A Bloor St W","524 Bloor St W","532 Bloor St W","910 Dundas St W","148 Augusta Ave","850 Bloor St W","589 College St","836 Bloor St W","831 College St","826 Bloor St W","799 Bloor St W","110 Charles St E","625 Church St","129 Mc Caul St","140 Mc Caul St","320 St George St","40 Bedford Rd","239 College St","278 Dupont St","332 Bloor St W","328A Dupont St","152 Spadina Rd","156 Spadina Rd","318 Dupont St","354 Dupont St","119 Yorkville Ave","111 Avenue Rd","188 Davenport Rd","2 Follis Ave","808 Church St","802 Church St","429 Spadina Ave","374 Spadina Ave","214 College St","392 Spadina Ave","254 College St","474 College St","554 College St","576 College St","1051 Ossington Ave","170 Avenue Rd","348 Davenport Rd","35 Prince Arthur Ave","53 Scollard St","86 Scollard St","684 Bathurst St","161 Harbord St","150 Dundas St W","107 Scollard St","1300 Bay St","316 Yonge St","598-600 College St","1170 Bay St","1085 Bathurst St","936 Bathurst St","1025 Bathurst St","986A Bathurst St","507 Bloor St W","481 Bloor St W","1069 Bathurst St","1075 Bathurst St","1065 Bathurst St","28 Ted Rogers Way","162 Major St","209 Harbord St","75 Harbord St","485 Huron St","656A Spadina Ave","6 Edward St","621 University Ave","126 Edward St","67 College St","11 College St","475 Dupont St","11 Christie St","55 Belmont St","98 Davenport Rd","166 Spadina Rd","645 Bay St","125 Yorkville Ave","8D Spadina Rd","211 Davenport Rd","231 Avenue Rd","165 Avenue Rd","75 Kensington Ave","1219 Yonge St","45A Davenport Rd","366 Bloor St E","934 Manning Ave","612 Bloor St W","968 Bathurst St","994 Bathurst St","28 McMurrich St","111 Spadina Rd","75A Spadina Rd","391 Brunswick Ave","188 Lowther Ave","10 Spadina Rd","5 Walmer Rd","80 Grosvenor St","73 Queen's Park Cres E","152 Augusta Ave","91 Bellevue Ave","160 Baldwin St","138 Baldwin St","864 Bloor St W","805 College St","100 Walton St","23 Baldwin St","29 Baldwin St","94 Avenue Rd","770X Bloor St W","794 College St","805 Bloor St W","739B Ossington Ave","703 College St","814 Bloor St W","533 College St","496 Montrose Ave","717 College St","835 Bloor St W","699 College St","603 Markham St","344 Harbord St","732 Spadina Ave","238A Dupont St","180 Dundas St W","170 St George St","238 Davenport Rd","460 Spadina Ave","456 College St","750 College St","692 Bay St","732 Bloor St W","93 Christie St","287 Harbord St","972 Bathurst St","133 Bloor St E","88 Charles St E","1071 Shaw St","793 Dupont St","3 Charles St W","254 Christie St","494 Bloor St W","396 Dupont St","125 Kendal Ave","123 Spadina Rd","50 Kendal Ave","70 Spadina Rd","527 Bloor St W","493 Bloor St W","1051 Bathurst St","800 Bathurst St","515 Bloor St W","848 Bathurst St","922 Bathurst St","1098 Bathurst St","41 Baldwin St","394 Dundas St W","51 Baldwin St","416 College St","317 College St","415-417 College St","1 Brunswick Ave","8 Elm St","1168A Bay St","142 Avenue Rd","176 Dupont St","307 Davenport Rd","369 Davenport Rd","250 Davenport Rd","206 St George St","913 Bathurst St","581 Markham St","39 Queen's Park Cres E","461 Bathurst St","174 Davenport Rd","159 Avenue Rd","19 Hazelton Ave","146 Davenport Rd","192 Davenport Rd","225 St George St","36A Prince Arthur Ave","31 Prince Arthur Ave","48 Oxford St","194 Augusta Ave","90 Oxford St","126 Denison Ave","215 Augusta Ave","69 Oxford St","138 Augusta Ave","243 Bloor St E","609 Bloor St W","642 Bloor St W","719 Bloor St W","688A Bloor St W","678 Bloor St W","135 Cumberland St","259 College St","393 Spadina Ave","185 College St","252 College St","507 College St","836 Dundas St W","982 Dundas St W","816 Dundas St W","319 Ossington Ave","90 College St","71 Grenville St","76 Grenville St","85 Grenville St","322 Yonge St","380 Spadina Ave","340 Spadina Ave","404 Spadina Ave","558 College St","500 College St","14 Clinton St","159 Elm St","20 Orde St","74 Elm St","1 Bloor St E","10 Yorkville Ave","862 Yonge St","295 Harbord St","33 Cecil St","199 College St","179 College St","373 Spadina Ave","621 College St","464 College St","378 College St","318 Dundas St W","424 College St","347 Bathurst St","482 Dundas St W","368 College St","177 Beverley St","258 Augusta Ave","88 Nassau St","15 Asquith Ave","836 Yonge St","67 Scollard St","1319 Bay St","98 Harbord St","155 Borden St","29 Grace St","237 Clinton St","88 Oxford St","564 Dundas St W","608 Dundas St W","79 Kensington Ave","144 Baldwin St","179 Baldwin St","578 Dundas St W","214 Augusta Ave","257 Augusta Ave","91 Scollard St","68 Yorkville Ave","141 Augusta Ave","242 Bloor St W","310 Bloor St W","456 Bloor St W","406A Bloor St W","386 Bloor St W","92 College St","3 Madison Ave","330 St George St","420 Bloor St W","326 1/2 Bloor St W","1099 Yonge St","1068 Yonge St","1091 Yonge St","1097 Yonge St","1123 Yonge St","876 Dundas St W","782 Dundas St W","856 Dundas St W","772A Dundas St W","1026 Dundas St W","830A Dundas St W","924 Dundas St W","918 Dundas St W","852A Dundas St W","768 Dundas St W","760 Dundas St W","866 Dundas St W","1082 Dundas St W","399 Palmerston Blvd","1 Christie St","390 Dupont St","308 Dupont St","191 Spadina Rd","370A College St","195 Davenport Rd","133 Hazelton Ave","225 Davenport Rd","126 Scollard St","888 Dupont St","324 College St","401 College St","8A Brunswick Ave","132 Bellevue Ave","347-351 College St","191 St George St","27 Prince Arthur Ave","243 Davenport Rd","177 St George St","342 Davenport Rd","329 St George St","277 St George St","365 College St","432 College St","355 College St","326 College St","423 College St","416 Bloor St E","1255 Yonge St","671 University Ave","68 College St","2 Cumberland St","711-717 Bay St","838 Bloor St W","467 College St","471 College St","879 Bloor St W","788 College St","300 Markham St","35 Bellevue Ave","27 Wales Ave","349A Harbord St","326 Harbord St","650 Church St","99 Yorkville Ave","32 Cumberland St","80 Cumberland St","350 Huron St","795 College St","872 Bloor St W","595 College St","491 College St","876 Bloor St W","825 College St","778 College St","20 St Andrew St","48 Kensington Ave","297 Harbord St","111 Yorkville Ave","852 Bathurst St","910 Bathurst St","533 Bloor St W","327 Bloor St W","1021 Bathurst St","555 Bloor St W","277 Borden St","467 Bloor St W","563 Bloor St W","1044 Bathurst St","832 Bathurst St","1088 Bathurst St","25 Harbord St","486 Spadina Ave","701A Bloor St W","361A Clinton St","628 Bloor St W","723 Bloor St W","710 Bloor St W","560 Bloor St W","663 Bloor St W","704 Bloor St W","809 Yonge St","252 Mc Caul St","440 College St","486 Bloor St W","350 Bloor St W","324 Bloor St W","1 Rowanwood Ave","657 Spadina Ave","130-140 St George St","828 Dundas St W","1110 Dundas St W","870 Dundas St W","920 Dundas St W","916 Dundas St W","218 Beverley St","336 Davenport Rd","500 Dundas St W","554 Roxton Rd","826 College St","695 College St","673 College St","737 Ossington Ave","2 Bellevue Ave","532 Palmerston Blvd","587 Markham St","111 Queen's Park","23 Queen's Park Cres E","187 Baldwin St","670 Dundas St W","83 Nassau St","71 Nassau St","562 Dundas St W","1180 Bay St","1102 Bay St","261 College St","301 Davenport Rd","263-265 Davenport Rd","314 Davenport Rd","330 Davenport Rd","37 Prince Arthur Ave","318 St George St","468 Bloor St W","440 Bloor St W","17 Prince Arthur Ave","29 Yorkville Ave","1052 Bathurst St","561 Bloor St W","565 Bloor St W","966 Bathurst St","348 Bloor St W","526 Bloor St W","377 Ossington Ave","912 Dundas St W","3 Scollard St","12 Elm St","38 Elm St","4 Edward St","100 Dundas St W","654 Manning Ave","668 Bloor St W","733 Bloor St W","631B Bloor St W","632 Bloor St W","890 Dundas St W","786 Dundas St W","1000 Dundas St W","1140 Dundas St W","842 Dundas St W","795 Bloor St W","815 College St","197 College St","739 Ossington Ave","409 Roxton Rd","856 Bloor St W","299 Harbord St","290 Harbord St","338 Harbord St","632 College St","644 College St","722 College St","54 Kensington Ave","56B Kensington Ave","255 Christie St","659 Markham St","161 Christie St","110 Davenport Rd","348 Dupont St","169 Clinton St","189 Augusta Ave","272 Augusta Ave","276 Augusta Ave","71 Oxford St","183 College St","315 Spadina Ave","370 Dupont St","71 Spadina Rd","205 Spadina Rd","168 Baldwin St","90 Nassau St","412 College St","356 Spadina Ave","294-296 Spadina Ave","900 Bay St","390 Bloor St W","336 Bloor St W","522 Bloor St W","358 Bloor St W","705 College St","532 Dundas St W","86 Nassau St","1132 Dundas St W","792 College St","709 College St","697 College St","804 Bloor St W","708 Crawford St","725 College St","384 College St","434 College St","826 Dundas St W","926 Dundas St W","802A Dundas St W","713 College St","669 College St","293A Palmerston Ave","569 Crawford St","598 Markham St","343 Harbord St","602 Markham St","138 Bedford Rd","265 Davenport Rd","148 Avenue Rd","1092 Bathurst St","830 Bathurst St","890 Yonge St","914 Yonge St","86 Harbord St","66 Harbord St","563 Spadina Cres","488 College St","637 College St","496 College St","492 College St","756 College St","566 Bloor St W","364 Clinton St","682A Bloor St W","631 Bloor St W","647 Bloor St W","576 Bloor St W","150 Beverley St","441 Bathurst St","43 Baldwin St","284 College St","70 Cumberland St","1278 Bay St","1235 Bay St","653 Dupont St","645 Dupont St","34 McMurrich St","321 Bloor St W","404 College St","429 College St","716 Bathurst St","428 Summerhill Ave","388 Dupont St","12 Hazelton Ave","121 Yorkville Ave","221 Davenport Rd","180 Bloor St W","182 Mc Caul St","20 Baldwin St","19 Baldwin St","742 Bathurst St","147 Harbord St","610 University Ave","791 Bathurst St","102 Yorkville Ave","295 College St","194 Dupont St","89 Gerrard St W","292 Dundas St W","163 Cumberland St","86 Yorkville Ave","146 Cumberland St","98 Yorkville Ave","948 Yonge St","946 Yonge St","738 Spadina Ave","14 Madison Ave","7 Hayden St","93 Charles St W","292 Harbord St","333 Bloor St E","810 Church St","98 Scollard St","510 Bathurst St","184 Harbord St","170 Brunswick Ave","788 Bay St","130 Dundas St W","724 Bay St","696 Bay St","717 Bay St","112 Yorkville Ave","82 Yorkville Ave","60 Harbord St","756 Yonge St","244 Bloor St W","46 St George St","4 Sherbourne St N","827 College St","304 College St","112 Harbord St","195 Harbord St","720 Bathurst St","189 Harbord St","288 Bloor St W","187 Madison Ave","298 Brunswick Ave","678 Bathurst St","106 Harbord St","154 Harbord St","81 Harbord St","23 Davenport Rd","36 Madison Ave","96 Harbord St","256 Mc Caul St","832 College St","150 College St","720 Spadina Ave","205 College St","111-113 Yorkville Ave","4A Cumberland St","398 Huron St","767 Yonge St","100 St George St","264 College St","736 Spadina Ave","9A Yorkville Ave","617 Spadina Ave","94 Prince Arthur Ave","760 Bay St","1310 Bay St","730 Bathurst St","183 Lowther Ave","797 College St","319 College St","283 College St","75 Scollard St","180 Baldwin St","427 Bloor St W","100 Cumberland St","63A Yorkville Ave","657 Dupont St","2 London St","586 College St","1132 Yonge St","367 Spadina Ave","532A College St","620 Dundas St W","533 Manning Ave","636 Church St","v 295 College St","4 Charles St E","1036 Dundas St W","340 Harbord St","4 Elm St","710 Spadina Ave","314 St George St","162 Davenport Rd","268 Bloor St W","542 College St","49 Hayden St","577 College St","158 Augusta Ave","468 College St","964 Bathurst St","495 Huron St","886 Bathurst St","164 Bedford Rd","611 Bloor St W","184 Davenport Rd","60 Oxford St","819 Bloor St W","293A Harbord St","418 Spadina Ave","71 Prince Arthur Ave","439 Spadina Ave","376 Spadina Ave","169 Spadina Rd","982A Bathurst St","598 Bloor St W","386 Harbord St","291 Ossington Ave","142 Davenport Rd","360 Dupont St","874 Bloor St W","588 Markham St","33 Baldwin St","446 Bathurst St","1073 Bathurst St","470 College St","602A Dundas St W","360 Bloor St W","77 Grace St","2 Baldwin St","1112 Yonge St","800 Bay St","623 College St","512 Bloor St W","400 Bloor St W","752 Dundas St W","750 Dundas St W","1050 Bathurst St","845 Bloor St W","408 Dupont St","160 Dundas St W","462 Dupont St","129 Davenport Rd","45 Avenue Rd","384 Spadina Ave","609 College St","267 St George St","203 Davenport Rd","345 College St","155 Cumberland St","568A College St","868 Bathurst St","252 Christie St","32 McMurrich St","74 Spadina Rd","869 Bloor St W","667 College St","924 Bathurst St","894 Bathurst St","978 Bathurst St","10 Edward St","451 Dupont St","698 Bay St","471 Bloor St W","1087 Bathurst St","606 Bloor St W","520 Bloor St W","619 College St","102 Scollard St","878 Yonge St","175 Cumberland St","596 Spadina Ave","835 Yonge St","703 Bloor St W","1055 Yonge St","257 College St","184 Augusta Ave","612 Markham St","510 College St","510 Spadina Ave","121 Scollard St","466 Spadina Ave","539 Bloor St W","91 Harbord St","535B Bloor St W","95 Davenport Rd","564 College St","689 Bloor St W","694 Bay St","553 Bloor St W","365 Manning Ave","758A Dundas St W","175 Bellwoods Ave","120 Scollard St","293 Harbord St","88 Bernard Ave","908 Bathurst St","592 Markham St","1114 Yonge St","48 Hayden St","608 Markham St","287 Spadina Ave","580 College St","117 Spadina Rd","455 Bathurst St","182 Augusta Ave","541 College St","816 College St","198 Brunswick Ave","620 Bloor St W","8A Spadina Rd","162 Spadina Rd","43 Madison Ave","388 Spadina Ave","677 Huron St","854 Dundas St W","468 Bathurst St","21 Sussex Ave","2 D'Arcy St","372 Spadina Ave","634 Church St","323 Davenport Rd","292 College St","812 Bloor St W","880 Bathurst St","560A Dundas St W","87 Walton St","580 Bloor St W","392 College St","168 Bedford Rd","874 Yonge St","1090 Dundas St W","201 Baldwin St","21 Hazelton Ave","130 Harbord St","54 Hoskin Ave","76 College St","832 Bloor St W","79 Harbord St","221 Spadina Rd","12 Madison Ave","291 College St","252 Palmerston Ave","812 Church St","484 Dundas St W","287 College St","849 1/2 Bloor St W","207 Harbord St","617 College St","478 Bloor St W","1299 Yonge St","76 Scollard St","179 Major St","35 Avenue Rd","150 Harbord St","468 Dundas St W","802 Bloor St W","169 Brunswick Ave","581 Euclid Ave","927 Yonge St","556 Spadina Cres","99 Wellesley St W","296 College St","05-Nov Elm Ave","126 Mc Caul St","356 Bloor St W","204 Augusta Ave","310 College St","422 College St","369 Montrose Ave","1100 Bay St","181 Lowther Ave","165 Brunswick Ave","15 Elm Ave","860 Yonge St","708 Bloor St W","623 Bloor St W","11 Yorkville Ave","301 Spadina Ave","369 Huron St","406 Spadina Ave","183 Harbord St","321 Davenport Rd","370 Spadina Ave","490 College St","360 Montrose Ave","189 Avenue Rd","847 Bloor St W","10 Dalton Rd","1172 Bay St"],null,null,null,["1","4","1","2","1","10","1","6","8","2","1","1","1","2","4","1","1","1","2","3","1","2","2","4","4","2","2","1","2","8","1","5","6","21","2","2","3","2","2","2","2","5","3","3","3","8","4","3","1","7","1","8","2","7","1","2","5","1","1","3","1","12","10","3","1","3","20","5","3","3","4","4","1","3","4","1","24","3","4","12","3","14","7","1","3","14","2","1","1","18","7","3","3","9","1","2","2","3","3","4","1","2","4","8","14","2","5","3","8","1","2","6","4","2","2","14","3","4","1","1","15","2","3","11","8","2","3","10","8","2","1","3","7","2","1","1","1","9","18","3","2","3","3","5","1","6","11","3","14","17","2","2","4","2","3","44","1","1","3","14","5","8","1","13","1","1","2","2","2","1","6","3","1","17","1","2","2","3","6","2","1","10","7","12","5","11","4","1","6","25","1","3","6","1","1","12","4","4","1","2","3","2","2","3","2","2","7","12","8","7","4","2","1","3","12","6","3","6","1","4","4","10","3","23","4","2","2","3","1","4","4","4","3","9","3","1","3","1","5","3","4","2","3","10","4","1","2","1","1","8","3","3","11","2","1","16","8","2","4","2","2","1","1","8","3","5","2","10","4","12","17","3","2","2","3","2","6","2","3","1","2","3","8","8","2","3","3","4","3","2","4","1","5","6","2","1","4","4","7","1","4","3","1","1","1","3","1","6","4","8","1","7","5","2","6","5","1","1","2","3","3","4","2","1","5","4","1","3","2","5","2","1","1","1","11","6","4","3","1","2","3","1","5","4","1","4","3","6","3","9","6","2","4","2","4","3","1","2","9","1","1","1","4","2","1","2","4","1","3","2","1","2","4","3","1","4","2","5","2","1","4","3","3","3","1","3","1","3","3","4","3","3","2","3","1","2","1","1","1","2","2","3","5","3","3","1","4","1","8","1","7","5","2","2","4","11","2","3","2","6","2","8","2","3","6","2","2","3","1","1","2","2","1","3","1","1","3","1","1","3","1","3","1","5","2","2","3","4","1","2","1","5","1","5","1","2","3","3","5","5","9","1","9","2","5","4","10","3","3","6","1","2","1","2","1","2","6","3","1","1","2","1","2","2","11","2","1","4","2","1","2","1","3","1","4","13","5","2","2","1","2","2","1","5","2","2","4","3","3","4","2","3","4","7","9","4","2","1","2","1","2","1","1","4","1","2","1","2","3","4","1","3","3","2","3","1","1","2","2","2","2","1","1","1","3","2","3","1","5","3","1","1","1","2","2","2","2","1","12","1","2","1","5","2","1","1","1","1","1","1","1","1","5","3","5","2","1","1","1","3","12","10","6","2","1","1","4","2","2","2","1","1","5","3","3","1","3","1","2","3","2","2","2","4","1","1","4","1","1","1","4","1","4","4","1","1","1","4","1","1","3","2","3","2","1","1","2","1","1","4","4","1","7","4","7","1","3","4","4","2","1","2","1","1","1","1","3","3","3","2","2","1","1","5","1","1","1","1","2","1","4","3","4","7","1","4","1","4","3","4","2","3","2","1","2","2","2","1","2","2","1","1","2","1","1","5","2","4","2","6","4","3","3","2","2","1","6","2","2","2","4","2","2","2","1","2","2","1","3","2","2","2","3","1","1","4","1","2","1","3","3","3","1","2","2","2","6","2","3","4","3","1","1","3","3","2","8","4","1","1","1","1","1","1","2","2","3","1","1","5","2","2","1","1","7","2","1","1","2","2","1","1","3","3","5","4","2","3","1","5","4","4","1","3","2","1","3","1","2","1","4","1","10","1","7","1","2","2","2","2","1","2","1","1","6","2","2","1","1","1","4","2","2","1","2","2","2","3","2","2","2","4","1","1","1","1","3","1","1","2","2","1","1","2","3","2","2","1","3","2","2","1","2","1","2","1","1","1","2","4","1","4","1","2","1","1","2","1","1","1","2","1","2","1","1","1","2","3","1","1","1","2","1","5","4","2","1","1","1","3","1","1","4","3","5","1","1","2","2","3","2","2","5","8","4","1","2","1","1","1","3","3","2","3","2","3","2","2","1","3","2","1","1","2","2","4","1","4","1","2","1","1","1","2","5","1","1","4","1","1","1","2","1","2","1","3","1","1","1","2","1","1","1","3","4","5","1","1","2","2","2","1","1","1","1","1","1","2","1","2","2","2","3","2","1","1","3","1","2","2","1","1","2","1","3","1","1","1","1","1","2","2","1","1","1","1","1","2","1","1","1","1","1","1","1","2","3","2","2","2","1","1","1","1","1","2","1","2","1","3","1","2","2","1","1","4","3","1","1","1","1","2","1","3","1","1","1","1","1","1","2","1","2","1","1","1","1","1","1","1","2","1","2","1","1","3","2","2","1","1","1","1","1","3","1","1","1","1","1","2","3","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","1","3","2","3","2","1","1","3","1","1","1","1","2","3","1","1","1","2","1","1","1","5","2","2","3","1","1","7","2","3","2","2","1","1","1","1","1","1","1","1","1","1","9","1","1","2","1","1","1","1","2","1","1","1","1","3","4","1","2","1","2","2","1","1","2","2","2","1","2","1","2","1","1","5","1","2","4","1","2","4","2","2","2","1","5","2","2","2","2","1","2","1","1","1","4","5","3","2","4","2","2","2","2","1","1","1","1","1","1","2","3","2","1","1","1","1","1","1","9","2","1","1","1","1","1","1","2","1","1","1","1","1","1","1","1","2","1","1","1","1","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","1","2","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","1","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","1","3","1","2","1","1","1","1","1","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","3","1","2","1","1","2","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","2","1","2","1","1","1","1","2","1","1","1","2","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[43.649491895,43.686136478],"lng":[-79.428773826,-79.368566886]}},"evals":[],"jsHooks":[]}</script><p>There are two options here that may not be familiar. The first is ‘popup,’ and this is what happens when you click on the marker. In this example this is giving the address. The second is ‘label,’ which is what happens when you hover over the marker. In this example it is given the number of spots.</p>
<p>Let’s have another go, this time making a map of the fire stations in Toronto. We can use data from Open Data Toronto, via the <code>opendatatoronto</code> R package <span class="citation">(<a href="references-1.html#ref-citeSharla" role="doc-biblioref">Gelfand 2020</a>)</span>. To ensure this book works, I will save and then use the dataset as at 13 May 2021, but you are able to get the up-to-date dataset using the link and the code.</p>
<div class="sourceCode" id="cb143"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://sharlagelfand.github.io/opendatatoronto/">opendatatoronto</a></span><span class="op">)</span>
<span class="co"># Get starter code from: https://open.toronto.ca/dataset/fire-station-locations/</span>
<span class="va">fire_stations_locations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://sharlagelfand.github.io/opendatatoronto//reference/get_resource.html">get_resource</a></span><span class="op">(</span><span class="st">'9d1b7352-32ce-4af2-8681-595ce9e47b6e'</span><span class="op">)</span>
<span class="co"># Grab the lat and long - thanks https://stackoverflow.com/questions/47661354/converting-geometry-to-longitude-latitude-coordinates-in-r</span>
<span class="va">fire_stations_locations</span> <span class="op">&lt;-</span> 
  <span class="va">fire_stations_locations</span> <span class="op">%&gt;%</span> 
  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/extract.html">extract</a></span><span class="op">(</span><span class="va">geometry</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'lon'</span>, <span class="st">'lat'</span><span class="op">)</span>, <span class="st">'\\((.*), (.*)\\)'</span>, convert <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="fu">write_csv</span><span class="op">(</span><span class="va">fire_stations_locations</span>, <span class="st">"inputs/data/fire_stations_locations.csv"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb144"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fire_stations_locations</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"inputs/data/fire_stations_locations.csv"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">fire_stations_locations</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 × 26</span>
<span class="co">#&gt;   `_id`    ID NAME     ADDRESS   ADDRESS_POINT_ID ADDRESS_ID</span>
<span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;                &lt;dbl&gt;      &lt;dbl&gt;</span>
<span class="co">#&gt; 1     1    21 FIRE ST… 900 TAPS…          4236992     363382</span>
<span class="co">#&gt; 2     2    60 FIRE ST… 106 ASCO…           764237      70190</span>
<span class="co">#&gt; 3     3    61 FIRE ST… 65 HENDR…           819425     127148</span>
<span class="co">#&gt; 4     4    55 FIRE ST… 260 ADEL…         12763904     484214</span>
<span class="co">#&gt; 5     5    24 FIRE ST… 745 MEAD…          6349868     357277</span>
<span class="co">#&gt; 6     6    74 FIRE ST… 140 LANS…         10757599     157562</span>
<span class="co">#&gt; # … with 20 more variables: CENTRELINE_ID &lt;dbl&gt;,</span>
<span class="co">#&gt; #   MAINT_STAGE &lt;chr&gt;, ADDRESS_NUMBER &lt;dbl&gt;,</span>
<span class="co">#&gt; #   LINEAR_NAME_FULL &lt;chr&gt;, POSTAL_CODE &lt;chr&gt;,</span>
<span class="co">#&gt; #   GENERAL_USE &lt;chr&gt;, CLASS_FAMILY_DESC &lt;chr&gt;,</span>
<span class="co">#&gt; #   ADDRESS_ID_LINK &lt;dbl&gt;, PLACE_NAME &lt;chr&gt;, X &lt;lgl&gt;,</span>
<span class="co">#&gt; #   Y &lt;lgl&gt;, LATITUDE &lt;lgl&gt;, LONGITUDE &lt;lgl&gt;,</span>
<span class="co">#&gt; #   WARD_NAME &lt;chr&gt;, MUNICIPALITY_NAME &lt;chr&gt;, …</span></code></pre></div>
<p>There is a lot of information here, but we’ll just plot the location of each fire station along with their name and address.</p>
<p>We will introduce a different type of marker here, which is circles. This will allow us to use different colours for the outcomes of each type. There are three possible outcomes: “Fire/Ambulance Stations” “Fire Station,” “Restaurant,” “Unknown.”</p>
<div class="sourceCode" id="cb145"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/leaflet/">leaflet</a></span><span class="op">)</span>

<span class="va">pal</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/colorNumeric.html">colorFactor</a></span><span class="op">(</span><span class="st">"Dark2"</span>, domain <span class="op">=</span> <span class="va">fire_stations_locations</span><span class="op">$</span><span class="va">GENERAL_USE</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/leaflet.html">leaflet</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addTiles</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>  <span class="co"># Add default OpenStreetMap map tiles</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addCircleMarkers</a></span><span class="op">(</span>
    data <span class="op">=</span> <span class="va">fire_stations_locations</span>,
    lng <span class="op">=</span> <span class="va">fire_stations_locations</span><span class="op">$</span><span class="va">lon</span>, 
    lat <span class="op">=</span> <span class="va">fire_stations_locations</span><span class="op">$</span><span class="va">lat</span>, 
    color <span class="op">=</span> <span class="fu">pal</span><span class="op">(</span><span class="va">fire_stations_locations</span><span class="op">$</span><span class="va">GENERAL_USE</span><span class="op">)</span>,
    popup <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"&lt;b&gt;Name:&lt;/b&gt;"</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">fire_stations_locations</span><span class="op">$</span><span class="va">NAME</span><span class="op">)</span>, <span class="st">"&lt;br&gt;"</span>,
                  <span class="st">"&lt;b&gt;Address:&lt;/b&gt;"</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">fire_stations_locations</span><span class="op">$</span><span class="va">ADDRESS</span><span class="op">)</span>, <span class="st">"&lt;br&gt;"</span><span class="op">)</span>
    <span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addLegend.html">addLegend</a></span><span class="op">(</span><span class="st">"bottomright"</span>, 
            pal <span class="op">=</span> <span class="va">pal</span>, 
            values <span class="op">=</span> <span class="va">fire_stations_locations</span><span class="op">$</span><span class="va">GENERAL_USE</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="op">)</span>,
    title <span class="op">=</span> <span class="st">"Type"</span>,
    opacity <span class="op">=</span> <span class="fl">1</span>
  <span class="op">)</span></code></pre></div>
<div id="htmlwidget-697d5e7d3db005a72548" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-697d5e7d3db005a72548">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[43.8239927252015,43.6793661319391,43.6801051517752,43.6483065339531,43.7942107669436,43.6450864408435,43.6644021870805,43.7549669455776,43.7485400772289,43.7381082893591,43.7096567595102,43.6630574201831,43.6473361193742,43.7744035511644,43.7197981433383,43.6280185381182,43.6949604663995,43.6945203032832,43.6025703358919,43.6859508063859,43.6795428878229,43.7610681663423,43.6011185170765,43.6583545553016,43.7347901432983,43.6951874596139,43.7816824952506,43.6819233409924,43.7458140063562,43.7262170049856,43.7239567617954,43.7646440088669,43.6718748612736,43.7891369171176,43.6574667398934,43.7773919350636,43.6647417825914,43.8049322415793,43.6691630088656,43.7203994274282,43.6909861622398,43.7954066088734,43.7087098623636,43.649348178119,43.7402187055703,43.7691459436276,43.6233410114915,43.6959168731747,43.6464360660255,43.7178772080563,43.7931779343076,43.7071848570246,43.6479870238738,43.7441034788063,43.6843003946467,43.721135794691,43.7459827062059,43.6729622271664,43.6568245964379,43.6615387594206,43.6593705340714,43.678071015543,43.7235728614792,43.7486446150086,43.7506541444208,43.7626918218058,43.6505208079754,43.8140419797109,43.7347555131408,43.7242534211126,43.7005987011636,43.7552582620875,43.7762855215206,43.7901270072937,43.7726358500692,43.8069196445835,43.6336769840123,43.6376903109341,43.6677666816198,43.7668215104353,43.6720950557577,43.6254007460108,43.6674011279628,43.7031244599412],[-79.2428700353868,-79.4486262604651,-79.4307521572934,-79.3895641902632,-79.1636016041726,-79.438866712795,-79.4909411711192,-79.2668510713279,-79.4067807494981,-79.6176378075318,-79.3997683018787,-79.3846617684612,-79.4097737524017,-79.340686070112,-79.4285718669271,-79.5029381693498,-79.5719196489125,-79.4411405905638,-79.5439889406404,-79.3939758413006,-79.3346621153039,-79.1915220291274,-79.5069699933954,-79.4796294010287,-79.2550627035035,-79.3165970101621,-79.299115316238,-79.2990652659353,-79.346726033251,-79.4021572823979,-79.2332610776553,-79.2277876628423,-79.3889203795552,-79.2629602053098,-79.5826959880308,-79.1480658922187,-79.4647539608107,-79.1886200061229,-79.3050381995295,-79.2840906320077,-79.3423437199078,-79.2259619086159,-79.3648513993097,-79.5451030832103,-79.5869058522884,-79.3650636554859,-79.5493536952449,-79.2684946045652,-79.5048470438209,-79.5703767704744,-79.3508330020753,-79.4821848791484,-79.4780588288151,-79.3145201396869,-79.4853016276853,-79.3491121871106,-79.5143706434163,-79.4118241402967,-79.4047817252783,-79.3250072916157,-79.3648542022226,-79.5385536449026,-79.5097760967724,-79.3837259589611,-79.4597267967044,-79.2915184052647,-79.3661539690352,-79.3238025417745,-79.4600322095888,-79.3149344230792,-79.5123844108684,-79.5491654346987,-79.4442860463118,-79.3936558799114,-79.4153547749349,-79.2772562802889,-79.4213297269953,-79.388613016358,-79.3435181858772,-79.4927235946077,-79.3755640527746,-79.3590745052274,-79.4381526808916,-79.4187941157764],10,null,null,{"interactive":true,"className":"","stroke":true,"color":["#D95F02","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#D95F02","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#D95F02","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#D95F02","#1B9E77","#D95F02","#1B9E77","#1B9E77","#1B9E77","#7570B3","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#D95F02","#1B9E77","#1B9E77","#1B9E77","#D95F02","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#D95F02","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#D95F02","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#D95F02","#1B9E77","#D95F02","#D95F02","#D95F02","#1B9E77","#1B9E77","#D95F02","#1B9E77","#D95F02","#1B9E77","#D95F02","#E7298A","#E7298A"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#D95F02","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#D95F02","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#D95F02","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#D95F02","#1B9E77","#D95F02","#1B9E77","#1B9E77","#1B9E77","#7570B3","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#D95F02","#1B9E77","#1B9E77","#1B9E77","#D95F02","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#D95F02","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#D95F02","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#1B9E77","#D95F02","#1B9E77","#D95F02","#D95F02","#D95F02","#1B9E77","#1B9E77","#D95F02","#1B9E77","#D95F02","#1B9E77","#D95F02","#E7298A","#E7298A"],"fillOpacity":0.2},null,null,["<b>Name:<\/b> FIRE STATION 211 <br> <b>Address:<\/b> 900 TAPSCOTT RD <br>","<b>Name:<\/b> FIRE STATION 342 <br> <b>Address:<\/b> 106 ASCOT AVE <br>","<b>Name:<\/b> FIRE STATION 343 <br> <b>Address:<\/b> 65 HENDRICK AVE <br>","<b>Name:<\/b> FIRE STATION 332 <br> <b>Address:<\/b> 260 ADELAIDE ST W <br>","<b>Name:<\/b> FIRE STATION 214 <br> <b>Address:<\/b> 745 MEADOWVALE RD <br>","<b>Name:<\/b> FIRE STATION 426 <br> <b>Address:<\/b> 140 LANSDOWNE AVE <br>","<b>Name:<\/b> FIRE STATION 422 <br> <b>Address:<\/b> 590 JANE ST <br>","<b>Name:<\/b> FIRE STATION 232 <br> <b>Address:<\/b> 1550 MIDLAND AVE <br>","<b>Name:<\/b> FIRE STATION 121 <br> <b>Address:<\/b> 10 WILLIAM CARSON CRES <br>","<b>Name:<\/b> FIRE STATION 412 <br> <b>Address:<\/b> 267 HUMBERLINE DR <br>","<b>Name:<\/b> FIRE STATION 134 <br> <b>Address:<\/b> 16 MONTGOMERY AVE <br>","<b>Name:<\/b> FIRE STATION 314 <br> <b>Address:<\/b> 12 GROSVENOR ST <br>","<b>Name:<\/b> FIRE STATION 331 <br> <b>Address:<\/b> 33 CLAREMONT ST <br>","<b>Name:<\/b> FIRE STATION 115 <br> <b>Address:<\/b> 115 PARKWAY FOREST DR <br>","<b>Name:<\/b> FIRE STATION 132 <br> <b>Address:<\/b> 476 LAWRENCE AVE W <br>","<b>Name:<\/b> FIRE STATION 433 <br> <b>Address:<\/b> 615 ROYAL YORK RD <br>","<b>Name:<\/b> FIRE STATION 441 <br> <b>Address:<\/b> 947 MARTIN GROVE RD <br>","<b>Name:<\/b> FIRE STATION 341 <br> <b>Address:<\/b> 555 OAKWOOD AVE <br>","<b>Name:<\/b> FIRE STATION 434 <br> <b>Address:<\/b> 3 LUNNESS RD <br>","<b>Name:<\/b> FIRE STATION 311 <br> <b>Address:<\/b> 20 BALMORAL AVE <br>","<b>Name:<\/b> FIRE STATION 323 <br> <b>Address:<\/b> 153 CHATHAM AVE <br>","<b>Name:<\/b> FIRE STATION 234 <br> <b>Address:<\/b> 40 CORONATION DR <br>","<b>Name:<\/b> FIRE STATION 435 <br> <b>Address:<\/b> 130 EIGHTH ST <br>","<b>Name:<\/b> FIRE STATION 424 <br> <b>Address:<\/b> 462 RUNNYMEDE RD <br>","<b>Name:<\/b> FIRE STATION 221 <br> <b>Address:<\/b> 2575 EGLINTON AVE E <br>","<b>Name:<\/b> FIRE STATION 224 <br> <b>Address:<\/b> 1313 WOODBINE AVE <br>","<b>Name:<\/b> FIRE STATION 244 <br> <b>Address:<\/b> 2340 BIRCHMOUNT RD <br>","<b>Name:<\/b> FIRE STATION 226 <br> <b>Address:<\/b> 87 MAIN ST <br>","<b>Name:<\/b> FIRE STATION 123 <br> <b>Address:<\/b> 143 BOND AVE <br>","<b>Name:<\/b> FIRE STATION 131 <br> <b>Address:<\/b> 3135 YONGE ST <br>","<b>Name:<\/b> FIRE STATION 223 <br> <b>Address:<\/b> 116 DORSET RD <br>","<b>Name:<\/b> FIRE STATION 231 <br> <b>Address:<\/b> 740 MARKHAM RD <br>","<b>Name:<\/b> FIRE STATION 312 <br> <b>Address:<\/b> 34 YORKVILLE AVE <br>","<b>Name:<\/b> FIRE STATION 243 <br> <b>Address:<\/b> 4560 SHEPPARD AVE E <br>","<b>Name:<\/b> FIRE STATION 444 <br> <b>Address:<\/b> 666 RENFORTH DR <br>","<b>Name:<\/b> FIRE STATION 215 <br> <b>Address:<\/b> 5318 LAWRENCE AVE E <br>","<b>Name:<\/b> FIRE STATION 423 <br> <b>Address:<\/b> 358 KEELE ST <br>","<b>Name:<\/b> FIRE STATION 212 <br> <b>Address:<\/b> 8500 SHEPPARD AVE E <br>","<b>Name:<\/b> FIRE STATION 227 <br> <b>Address:<\/b> 1904 QUEEN ST E <br>","<b>Name:<\/b> FIRE STATION 222 <br> <b>Address:<\/b> 755 WARDEN AVE <br>","<b>Name:<\/b> FIRE STATION 322 <br> <b>Address:<\/b> 256 COSBURN AVE <br>","<b>Name:<\/b> FIRE STATION 213 <br> <b>Address:<\/b> 7 LAPSLEY RD <br>","<b>Name:<\/b> FIRE STATION 321 <br> <b>Address:<\/b> 231 MCRAE DR <br>","<b>Name:<\/b> FIRE STATION 445 <br> <b>Address:<\/b> 280 BURNHAMTHORPE RD <br>","<b>Name:<\/b> FIRE STATION 413 <br> <b>Address:<\/b> 1549 ALBION RD <br>","<b>Name:<\/b> FIRE STATION 116 <br> <b>Address:<\/b> 255 ESTHER SHINER BLVD <br>","<b>Name:<\/b> FIRE STATION 432 <br> <b>Address:<\/b> 155 THE EAST MALL <br>","<b>Name:<\/b> FIRE STATION 225 <br> <b>Address:<\/b> 3600 DANFORTH AVE <br>","<b>Name:<\/b> FIRE STATION 431 <br> <b>Address:<\/b> 308 PRINCE EDWARD DR S <br>","<b>Name:<\/b> FIRE STATION 415 <br> <b>Address:<\/b> 2120 KIPLING AVE <br>","<b>Name:<\/b> FIRE STATION 113 <br> <b>Address:<\/b> 700 SENECA HILL DR <br>","<b>Name:<\/b> FIRE STATION 133 <br> <b>Address:<\/b> 1505 LAWRENCE AVE W <br>","<b>Name:<\/b> FIRE STATION 425 <br> <b>Address:<\/b> 83 DEFOREST RD <br>","<b>Name:<\/b> FIRE STATION 233 <br> <b>Address:<\/b> 59 CURLEW DR <br>","<b>Name:<\/b> FIRE STATION 421 <br> <b>Address:<\/b> 6 LAMBTON AVE <br>","<b>Name:<\/b> FIRE STATION 125 <br> <b>Address:<\/b> 1109 LESLIE ST <br>","<b>Name:<\/b> FIRE STATION 142 <br> <b>Address:<\/b> 2753 JANE ST <br>","<b>Name:<\/b> FIRE STATION 344 <br> <b>Address:<\/b> 240 HOWLAND AVE <br>","<b>Name:<\/b> FIRE STATION 315 <br> <b>Address:<\/b> 132 BELLEVUE AVE <br>","<b>Name:<\/b> FIRE STATION 326 <br> <b>Address:<\/b> 30 KNOX AVE <br>","<b>Name:<\/b> FIRE STATION 325 <br> <b>Address:<\/b> 475 DUNDAS ST E <br>","<b>Name:<\/b> FIRE STATION 443 <br> <b>Address:<\/b> 1724 ISLINGTON AVE <br>","<b>Name:<\/b> FIRE STATION 146 <br> <b>Address:<\/b> 2220 JANE ST <br>","<b>Name:<\/b> FIRE STATION 122 <br> <b>Address:<\/b> 2545 BAYVIEW AVE <br>","<b>Name:<\/b> FIRE STATION 143 <br> <b>Address:<\/b> 1009 SHEPPARD AVE W <br>","<b>Name:<\/b> FIRE STATION 245 <br> <b>Address:<\/b> 1600 BIRCHMOUNT RD <br>","<b>Name:<\/b> FIRE STATION 333 <br> <b>Address:<\/b> 207 FRONT ST E <br>","<b>Name:<\/b> FIRE STATION 241 <br> <b>Address:<\/b> 3325 WARDEN AVE <br>","<b>Name:<\/b> FIRE STATION 145 <br> <b>Address:<\/b> 20 BEFFORT RD <br>","<b>Name:<\/b> FIRE STATION 235 <br> <b>Address:<\/b> 200 BERMONDSEY RD <br>","<b>Name:<\/b> FIRE STATION 442 <br> <b>Address:<\/b> 2015 LAWRENCE AVE W <br>","<b>Name:<\/b> FIRE STATION 411 <br> <b>Address:<\/b> 75 TORYORK DR <br>","<b>Name:<\/b> FIRE STATION 112 <br> <b>Address:<\/b> 5700 BATHURST ST <br>","<b>Name:<\/b> FIRE STATION 111 <br> <b>Address:<\/b> 3300 BAYVIEW AVE <br>","<b>Name:<\/b> FIRE STATION 114 <br> <b>Address:<\/b> 12 CANTERBURY PL <br>","<b>Name:<\/b> FIRE STATION 242 <br> <b>Address:<\/b> 2733 BRIMLEY RD <br>","<b>Name:<\/b> FIRE STATION 346 CNE <br> <b>Address:<\/b> 90 QUEBEC ST <br>","<b>Name:<\/b> FIRE STATION 334 HARBOURFRONT <br> <b>Address:<\/b> 339 QUEENS QUAY  W <br>","<b>Name:<\/b> FIRE STATION 324 <br> <b>Address:<\/b> 840 GERRARD ST E <br>","<b>Name:<\/b> FIRE STATION 141 <br> <b>Address:<\/b> 4100 KEELE ST <br>","<b>Name:<\/b> FIRE STATION 313 <br> <b>Address:<\/b> 441 BLOOR ST E <br>","<b>Name:<\/b> FIRE STATION 335 <br> <b>Address:<\/b> 235 CIBOLA AVE <br>","<b>Name:<\/b> FIRE STATION 345 <br> <b>Address:<\/b> 1287 DUFFERIN ST <br>","<b>Name:<\/b> FIRE STATION 135 <br> <b>Address:<\/b> 325 CHAPLIN CRES <br>"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#1B9E77","#D95F02","#7570B3","#E7298A"],"labels":["Fire Station","Fire/Ambulance Stations","Restaurant","Unknown"],"na_color":null,"na_label":"NA","opacity":1,"position":"bottomright","type":"factor","title":"Type","extra":null,"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[43.6011185170765,43.8239927252015],"lng":[-79.6176378075318,-79.1480658922187]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="mapdeck" class="section level3" number="7.2.2">
<h3>
<span class="header-section-number">7.2.2</span> Mapdeck<a class="anchor" aria-label="anchor" href="#mapdeck"><i class="fas fa-link"></i></a>
</h3>
<p>The package <code>Mapdeck</code> <span class="citation">(<a href="references-1.html#ref-citemapdeck" role="doc-biblioref">Cooley 2020</a>)</span> is an R package that is built on top of Mapbox (<a href="https://www.mapbox.com" class="uri">https://www.mapbox.com</a>).<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;Thank you to &lt;a href="https://shaunratcliff.com/"&gt;Shaun Ratcliff&lt;/a&gt; for introducing me to &lt;code&gt;mapdeck&lt;/code&gt;.&lt;/p&gt;'><sup>4</sup></a> It is based on WebGL, which means that your web browser does a lot of work for you. The nice thing is that because of this, it can do a bunch of things that <code>leaflet</code> struggles with, especially dealing with larger datasets. Mapbox is a full-featured application that many businesses that you may have heard of use: <a href="https://www.mapbox.com/showcase" class="uri">https://www.mapbox.com/showcase</a>. To close out this discussion of interactive mapping, I want to briefly touch on <code>mapdeck</code>, as it is a newer, but very exciting, package.</p>
<p>To this point we have used ‘stamen maps’ as our underlying tile, but <code>mapdeck</code> uses ‘Mapbox’ - <a href="https://www.mapbox.com/" class="uri">https://www.mapbox.com/</a> - and so you need to register and get a token for this. It’s free and you only need to do it once. When you have that token you add it to R. (We cover what is happening here in more detail in a later chapter.) Run this function:</p>
<div class="sourceCode" id="cb146"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/edit.html">edit_r_environ</a></span><span class="op">(</span><span class="op">)</span> </code></pre></div>
<p>When you run that function it will open a file. There you can add your Mapbox secret token.</p>
<div class="sourceCode" id="cb147"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">MAPBOX_TOKEN</span> <span class="op">=</span> <span class="st">'PUT_YOUR_MAPBOX_SECRET_HERE'</span></code></pre></div>
<p>Save your ‘.Renviron’ file, and then restart R (Session -&gt; Restart R).</p>
<p>Then you can call the map. We’ll just plot our firefighters data from earlier.</p>
<div class="sourceCode" id="cb148"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://symbolixau.github.io/mapdeck/articles/mapdeck.html">mapdeck</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'mapdeck'</span>
<span class="co">#&gt; The following object is masked from 'package:tibble':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     add_column</span>

<span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/mapdeck.html">mapdeck</a></span><span class="op">(</span>style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/mapdeck_style.html">mapdeck_style</a></span><span class="op">(</span><span class="st">'dark'</span><span class="op">)</span>
        <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/add_scatterplot.html">add_scatterplot</a></span><span class="op">(</span>
    data <span class="op">=</span> <span class="va">fire_stations_locations</span>, 
    lat <span class="op">=</span> <span class="st">"lat"</span>, 
    lon <span class="op">=</span> <span class="st">"lon"</span>, 
    layer_id <span class="op">=</span> <span class="st">'scatter_layer'</span>,
    radius <span class="op">=</span> <span class="fl">10</span>,
    radius_min_pixels <span class="op">=</span> <span class="fl">5</span>,
    radius_max_pixels <span class="op">=</span> <span class="fl">100</span>,
    tooltip <span class="op">=</span> <span class="st">"ADDRESS"</span>
  <span class="op">)</span>
<span class="co">#&gt; Registered S3 method overwritten by 'jsonify':</span>
<span class="co">#&gt;   method     from    </span>
<span class="co">#&gt;   print.json jsonlite</span></code></pre></div>
<div id="htmlwidget-b5051c0de6aa482dc8ab" style="width:672px;height:480px;" class="mapdeck html-widget"></div>
<script type="application/json" data-for="htmlwidget-b5051c0de6aa482dc8ab">{"x":{"access_token":"pk.eyJ1Ijoicm9oYW5hbGV4YW5kZXIiLCJhIjoiY2s4ajVqODUxMDZoZjNtcDVoMWJlYXRtayJ9.k3FD2HWzcTu_Pqk-939i-Q","style":"mapbox://styles/mapbox/dark-v10","pitch":0,"zoom":0,"location":[0,0],"bearing":0,"max_zoom":20,"min_zoom":0,"max_pitch":60,"min_pitch":0,"show_view_state":false,"repeat_view":false,"calls":[{"functions":"add_scatterplot_geo_columnar","args":["mapdeck",{"fill_colour":[68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0],"stroke_colour":[68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0],"stroke_width":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"radius":[10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0,10.0],"lat":[43.823993,43.679366,43.680105,43.648307,43.794211,43.645086,43.664402,43.754967,43.74854,43.738108,43.709657,43.663057,43.647336,43.774404,43.719798,43.628019,43.69496,43.69452,43.60257,43.685951,43.679543,43.761068,43.601119,43.658355,43.73479,43.695187,43.781682,43.681923,43.745814,43.726217,43.723957,43.764644,43.671875,43.789137,43.657467,43.777392,43.664742,43.804932,43.669163,43.720399,43.690986,43.795407,43.70871,43.649348,43.740219,43.769146,43.623341,43.695917,43.646436,43.717877,43.793178,43.707185,43.647987,43.744103,43.6843,43.721136,43.745983,43.672962,43.656825,43.661539,43.659371,43.678071,43.723573,43.748645,43.750654,43.762692,43.650521,43.814042,43.734756,43.724253,43.700599,43.755258,43.776286,43.790127,43.772636,43.80692,43.633677,43.63769,43.667767,43.766822,43.672095,43.625401,43.667401,43.703124],"tooltip":["900 TAPSCOTT RD","106 ASCOT AVE","65 HENDRICK AVE","260 ADELAIDE ST W","745 MEADOWVALE RD","140 LANSDOWNE AVE","590 JANE ST","1550 MIDLAND AVE","10 WILLIAM CARSON CRES","267 HUMBERLINE DR","16 MONTGOMERY AVE","12 GROSVENOR ST","33 CLAREMONT ST","115 PARKWAY FOREST DR","476 LAWRENCE AVE W","615 ROYAL YORK RD","947 MARTIN GROVE RD","555 OAKWOOD AVE","3 LUNNESS RD","20 BALMORAL AVE","153 CHATHAM AVE","40 CORONATION DR","130 EIGHTH ST","462 RUNNYMEDE RD","2575 EGLINTON AVE E","1313 WOODBINE AVE","2340 BIRCHMOUNT RD","87 MAIN ST","143 BOND AVE","3135 YONGE ST","116 DORSET RD","740 MARKHAM RD","34 YORKVILLE AVE","4560 SHEPPARD AVE E","666 RENFORTH DR","5318 LAWRENCE AVE E","358 KEELE ST","8500 SHEPPARD AVE E","1904 QUEEN ST E","755 WARDEN AVE","256 COSBURN AVE","7 LAPSLEY RD","231 MCRAE DR","280 BURNHAMTHORPE RD","1549 ALBION RD","255 ESTHER SHINER BLVD","155 THE EAST MALL","3600 DANFORTH AVE","308 PRINCE EDWARD DR S","2120 KIPLING AVE","700 SENECA HILL DR","1505 LAWRENCE AVE W","83 DEFOREST RD","59 CURLEW DR","6 LAMBTON AVE","1109 LESLIE ST","2753 JANE ST","240 HOWLAND AVE","132 BELLEVUE AVE","30 KNOX AVE","475 DUNDAS ST E","1724 ISLINGTON AVE","2220 JANE ST","2545 BAYVIEW AVE","1009 SHEPPARD AVE W","1600 BIRCHMOUNT RD","207 FRONT ST E","3325 WARDEN AVE","20 BEFFORT RD","200 BERMONDSEY RD","2015 LAWRENCE AVE W","75 TORYORK DR","5700 BATHURST ST","3300 BAYVIEW AVE","12 CANTERBURY PL","2733 BRIMLEY RD","90 QUEBEC ST","339 QUEENS QUAY  W","840 GERRARD ST E","4100 KEELE ST","441 BLOOR ST E","235 CIBOLA AVE","1287 DUFFERIN ST","325 CHAPLIN CRES"],"lon":[-79.24287,-79.448626,-79.430752,-79.389564,-79.163602,-79.438867,-79.490941,-79.266851,-79.406781,-79.617638,-79.399768,-79.384662,-79.409774,-79.340686,-79.428572,-79.502938,-79.57192,-79.441141,-79.543989,-79.393976,-79.334662,-79.191522,-79.50697,-79.479629,-79.255063,-79.316597,-79.299115,-79.299065,-79.346726,-79.402157,-79.233261,-79.227788,-79.38892,-79.26296,-79.582696,-79.148066,-79.464754,-79.18862,-79.305038,-79.284091,-79.342344,-79.225962,-79.364851,-79.545103,-79.586906,-79.365064,-79.549354,-79.268495,-79.504847,-79.570377,-79.350833,-79.482185,-79.478059,-79.31452,-79.485302,-79.349112,-79.514371,-79.411824,-79.404782,-79.325007,-79.364854,-79.538554,-79.509776,-79.383726,-79.459727,-79.291518,-79.366154,-79.323803,-79.460032,-79.314934,-79.512384,-79.549165,-79.444286,-79.39365599999999,-79.415355,-79.277256,-79.42133,-79.388613,-79.343518,-79.492724,-79.375564,-79.359075,-79.438153,-79.418794],"geometry":[-79.24287,43.823993,-79.448626,43.679366,-79.430752,43.680105,-79.389564,43.648307,-79.163602,43.794211,-79.438867,43.645086,-79.490941,43.664402,-79.266851,43.754967,-79.406781,43.74854,-79.617638,43.738108,-79.399768,43.709657,-79.384662,43.663057,-79.409774,43.647336,-79.340686,43.774404,-79.428572,43.719798,-79.502938,43.628019,-79.57192,43.69496,-79.441141,43.69452,-79.543989,43.60257,-79.393976,43.685951,-79.334662,43.679543,-79.191522,43.761068,-79.50697,43.601119,-79.479629,43.658355,-79.255063,43.73479,-79.316597,43.695187,-79.299115,43.781682,-79.299065,43.681923,-79.346726,43.745814,-79.402157,43.726217,-79.233261,43.723957,-79.227788,43.764644,-79.38892,43.671875,-79.26296,43.789137,-79.582696,43.657467,-79.148066,43.777392,-79.464754,43.664742,-79.18862,43.804932,-79.305038,43.669163,-79.284091,43.720399,-79.342344,43.690986,-79.225962,43.795407,-79.364851,43.70871,-79.545103,43.649348,-79.586906,43.740219,-79.365064,43.769146,-79.549354,43.623341,-79.268495,43.695917,-79.504847,43.646436,-79.570377,43.717877,-79.350833,43.793178,-79.482185,43.707185,-79.478059,43.647987,-79.31452,43.744103,-79.485302,43.6843,-79.349112,43.721136,-79.514371,43.745983,-79.411824,43.672962,-79.404782,43.656825,-79.325007,43.661539,-79.364854,43.659371,-79.538554,43.678071,-79.509776,43.723573,-79.383726,43.748645,-79.459727,43.750654,-79.291518,43.762692,-79.366154,43.650521,-79.323803,43.814042,-79.460032,43.734756,-79.314934,43.724253,-79.512384,43.700599,-79.549165,43.755258,-79.444286,43.776286,-79.39365599999999,43.790127,-79.415355,43.772636,-79.277256,43.80692,-79.42133,43.633677,-79.388613,43.63769,-79.343518,43.667767,-79.492724,43.766822,-79.375564,43.672095,-79.359075,43.625401,-79.438153,43.667401,-79.418794,43.703124]},84,"scatter_layer",false,"#AAFFFFFF",[],"rgb",[[-79.6176378075318,43.6011185170765],[-79.1480658922187,43.8239927252015]],true,false,null,5,100,null]}]},"evals":[],"jsHooks":[]}</script><p>And this is pretty nice!</p>
</div>
</div>
<div id="shiny" class="section level2" number="7.3">
<h2>
<span class="header-section-number">7.3</span> Shiny<a class="anchor" aria-label="anchor" href="#shiny"><i class="fas fa-link"></i></a>
</h2>
<p><code>Shiny</code> <span class="citation">(<a href="references-1.html#ref-citeshiny" role="doc-biblioref">Chang et al. 2021</a>)</span> is a way of making interactive web applications (not just maps) using R. It’s fun, but fiddly. Here we’re going to step through one way to take advantage of Shiny, and that’s to quickly add some interactivity to our graphs. We’ll return to <code>Shiny</code> in later chapters also, so this is very much just a first pass.</p>
<p>We’re going to make a very quick interactive graph based on the ‘babynames’ dataset from the package <code>babynames</code> <span class="citation">(<a href="references-1.html#ref-citebabynames" role="doc-biblioref">Wickham 2019b</a>)</span>. First, we’ll build a static version.</p>
<div class="sourceCode" id="cb149"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hadley/babynames">babynames</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>

<span class="va">top_five_names_by_year</span> <span class="op">&lt;-</span> 
  <span class="va">babynames</span> <span class="op">%&gt;%</span> 
  <span class="fu">group_by</span><span class="op">(</span><span class="va">year</span>, <span class="va">sex</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">slice_head</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>

<span class="va">top_five_names_by_year</span> <span class="op">%&gt;%</span> 
  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">n</span>, fill <span class="op">=</span> <span class="va">sex</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_histogram</span><span class="op">(</span>position <span class="op">=</span> <span class="st">"dodge"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_fill_brewer</span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Set1"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Babies with that name"</span>,
       y <span class="op">=</span> <span class="st">"Occurances"</span>,
       fill <span class="op">=</span> <span class="st">"Sex"</span>
       <span class="op">)</span>
<span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with</span>
<span class="co">#&gt; `binwidth`.</span></code></pre></div>
<div class="inline-figure"><img src="12-interactive_communication_files/figure-html/unnamed-chunk-17-1.png" width="672"></div>
<p>What we can see is that possibly the most popular boys names tend to be more clustered, compared with the most-popular girls names, which may be more spread out. However, one thing that we might be interested in is how the effect of the ‘bins’ parameter shapes what we see. We might like to use interactivity to explore different values.</p>
<p>To get started, create a new <code>Shiny</code> app from the menu: ‘File -&gt; New File -&gt; Shiny Web App.’ Give it a name, such as ‘not_my_first_shiny’ and then leave all the other options as the default. A new file ‘app.R’ will open and you can click ‘Run app’ to see what it looks like.</p>
<p>Now replace the content in that file - ‘app.R’ with the content below, and then again click ‘Run app’</p>
<div class="sourceCode" id="cb150"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/">shiny</a></span><span class="op">)</span>

<span class="co"># Define UI for application that draws a histogram</span>
<span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span>

    <span class="co"># Application title</span>
    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/titlePanel.html">titlePanel</a></span><span class="op">(</span><span class="st">"Count of names for five most popular names each year."</span><span class="op">)</span>,

    <span class="co"># Sidebar with a slider input for number of bins </span>
    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarLayout</a></span><span class="op">(</span>
        <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarPanel</a></span><span class="op">(</span>
            <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput</a></span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"number_of_bins"</span>,
                        label <span class="op">=</span> <span class="st">"Number of bins:"</span>,
                        min <span class="op">=</span> <span class="fl">1</span>,
                        max <span class="op">=</span> <span class="fl">50</span>,
                        value <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>
        <span class="op">)</span>,

        <span class="co"># Show a plot of the generated distribution</span>
        <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">mainPanel</a></span><span class="op">(</span>
           <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput</a></span><span class="op">(</span><span class="st">"distPlot"</span><span class="op">)</span>
        <span class="op">)</span>
    <span class="op">)</span>
<span class="op">)</span>

<span class="co"># Define server logic required to draw a histogram</span>
<span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span>

    <span class="va">output</span><span class="op">$</span><span class="va">distPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="op">{</span>

        <span class="co"># Draw the histogram with the specified number of bins</span>
        <span class="va">top_five_names_by_year</span> <span class="op">%&gt;%</span> 
            <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">n</span>, fill <span class="op">=</span> <span class="va">sex</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
            <span class="fu">geom_histogram</span><span class="op">(</span>position <span class="op">=</span> <span class="st">"dodge"</span>, bins <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">number_of_bins</span><span class="op">)</span> <span class="op">+</span>
            <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
            <span class="fu">scale_fill_brewer</span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Set1"</span><span class="op">)</span> <span class="op">+</span>
            <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Babies with that name"</span>,
                 y <span class="op">=</span> <span class="st">"Occurances"</span>,
                 fill <span class="op">=</span> <span class="st">"Sex"</span>
                 <span class="op">)</span>
    <span class="op">}</span><span class="op">)</span>
<span class="op">}</span>

<span class="co"># Run the application </span>
<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></code></pre></div>
<p>You should find that you are served an interactive graph where you can change the number of bins and it should look something like Figure <a href="interactive-communication.html#fig:shinyone">7.10</a>.</p>
<div class="figure">
<span style="display:block;" id="fig:shinyone"></span>
<img src="figures/shiny_one.png" alt="Example of Shiny app where the user controls the number of bins." width="90%"><p class="caption">
Figure 7.10: Example of Shiny app where the user controls the number of bins.
</p>
</div>
</div>
<div id="exercises-and-tutorial-6" class="section level2" number="7.4">
<h2>
<span class="header-section-number">7.4</span> Exercises and tutorial<a class="anchor" aria-label="anchor" href="#exercises-and-tutorial-6"><i class="fas fa-link"></i></a>
</h2>
<div id="exercises-6" class="section level3" number="7.4.1">
<h3>
<span class="header-section-number">7.4.1</span> Exercises<a class="anchor" aria-label="anchor" href="#exercises-6"><i class="fas fa-link"></i></a>
</h3>
</div>
<div id="tutorial-6" class="section level3" number="7.4.2">
<h3>
<span class="header-section-number">7.4.2</span> Tutorial<a class="anchor" aria-label="anchor" href="#tutorial-6"><i class="fas fa-link"></i></a>
</h3>

</div>
</div>
</div>




  <div class="chapter-nav">
<div class="prev"><a href="static-communication.html"><span class="header-section-number">6</span> Static communication</a></div>
<div class="next"><a href="gather-data.html"><span class="header-section-number">8</span> Gather data</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#interactive-communication"><span class="header-section-number">7</span> Interactive communication</a></li>
<li>
<a class="nav-link" href="#making-a-website"><span class="header-section-number">7.1</span> Making a website</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#introduction-5"><span class="header-section-number">7.1.1</span> Introduction</a></li>
<li><a class="nav-link" href="#postcards"><span class="header-section-number">7.1.2</span> Postcards</a></li>
<li><a class="nav-link" href="#distill"><span class="header-section-number">7.1.3</span> Distill</a></li>
<li><a class="nav-link" href="#blogdown"><span class="header-section-number">7.1.4</span> Blogdown</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#interactive-maps"><span class="header-section-number">7.2</span> Interactive maps</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#leaflet"><span class="header-section-number">7.2.1</span> Leaflet</a></li>
<li><a class="nav-link" href="#mapdeck"><span class="header-section-number">7.2.2</span> Mapdeck</a></li>
</ul>
</li>
<li><a class="nav-link" href="#shiny"><span class="header-section-number">7.3</span> Shiny</a></li>
<li>
<a class="nav-link" href="#exercises-and-tutorial-6"><span class="header-section-number">7.4</span> Exercises and tutorial</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#exercises-6"><span class="header-section-number">7.4.1</span> Exercises</a></li>
<li><a class="nav-link" href="#tutorial-6"><span class="header-section-number">7.4.2</span> Tutorial</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/12-interactive_communication.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/12-interactive_communication.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Telling Stories With Data</strong>" was written by Rohan Alexander. It was last built on 24 August, 2021.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
