<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 6 Static communication | Telling Stories With Data</title>
<meta name="author" content="Rohan Alexander">
<meta name="description" content="STATUS: Under construction. Required reading (The) Economist, 2013, ‘Johnson: Those six little rules,’ Prospero, 29 July 2013, available at:...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 6 Static communication | Telling Stories With Data">
<meta property="og:type" content="book">
<meta property="og:image" content="/tellingstorieswithdatapainting.png">
<meta property="og:description" content="STATUS: Under construction. Required reading (The) Economist, 2013, ‘Johnson: Those six little rules,’ Prospero, 29 July 2013, available at:...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 6 Static communication | Telling Stories With Data">
<meta name="twitter:description" content="STATUS: Under construction. Required reading (The) Economist, 2013, ‘Johnson: Those six little rules,’ Prospero, 29 July 2013, available at:...">
<meta name="twitter:image" content="/tellingstorieswithdatapainting.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/_Atkinson%20Hyperlegible-0.4.0/font.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=IBM%20Plex%20Mono&amp;display=swap" rel="stylesheet">
<script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="libs/leaflet-1.3.1/leaflet.js"></script><link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="libs/proj4-2.6.2/proj4.min.js"></script><script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script><script src="libs/mapdeck-binding-0.3.4/mapdeck.js"></script><script src="libs/mpadeck_functions-0.0.1/mapdeck_functions.js"></script><script src="libs/deckgl-8.1.6/deckgl.min.js"></script><script src="libs/legend-0.0.1/legend.js"></script><script src="libs/title-0.0.1/title.js"></script><script src="libs/mapdeck_location-0.0.1/mapdeck_location.js"></script><script src="libs/mapdeck_colours-0.0.1/mapdeck_colours.js"></script><script src="libs/mapdeck_coordinates-0.0.1/mapdeck_coordinates.js"></script><link href="libs/mapboxgl-1.10.0/mapbox-gl.css" rel="stylesheet">
<script src="libs/mapboxgl-1.10.0/mapbox-gl.js"></script><link href="libs/mapdeck-0.0.1/mapdeck.css" rel="stylesheet">
<script src="libs/mpadeck-binding-0.3.4/mapdeck.js"></script><script src="libs/scatterplot-1.0.0/scatterplot.js"></script><script src="libs/viz-1.8.2/viz.js"></script><link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="libs/grViz-binding-1.0.6.1/grViz.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Telling Stories With Data</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="about-the-author.html">About the author</a></li>
<li class="book-part">Foundations</li>
<li><a class="" href="telling-stories-with-data.html"><span class="header-section-number">1</span> Telling Stories with Data</a></li>
<li><a class="" href="drinking-from-a-fire-hose.html"><span class="header-section-number">2</span> Drinking from a fire hose</a></li>
<li><a class="" href="r-essentials.html"><span class="header-section-number">3</span> R essentials</a></li>
<li><a class="" href="workflow.html"><span class="header-section-number">4</span> Workflow</a></li>
<li class="book-part">Communication</li>
<li><a class="" href="on-writing.html"><span class="header-section-number">5</span> On writing</a></li>
<li><a class="active" href="static-communication.html"><span class="header-section-number">6</span> Static communication</a></li>
<li><a class="" href="interactive-communication.html"><span class="header-section-number">7</span> Interactive communication</a></li>
<li class="book-part">Measure and acquire</li>
<li><a class="" href="gather-data.html"><span class="header-section-number">8</span> Gather data</a></li>
<li><a class="" href="hunt-data.html"><span class="header-section-number">9</span> Hunt data</a></li>
<li><a class="" href="farm-data.html"><span class="header-section-number">10</span> Farm data</a></li>
<li class="book-part">Preparation</li>
<li><a class="" href="cleaning-and-preparing-data.html"><span class="header-section-number">11</span> Cleaning and preparing data</a></li>
<li><a class="" href="storing-and-retrieving-data.html"><span class="header-section-number">12</span> Storing and retrieving data</a></li>
<li><a class="" href="disseminating-and-protecting-data.html"><span class="header-section-number">13</span> Disseminating and protecting data</a></li>
<li class="book-part">Modelling</li>
<li><a class="" href="exploratory-data-analysis.html"><span class="header-section-number">14</span> Exploratory data analysis</a></li>
<li><a class="" href="ijalm.html"><span class="header-section-number">15</span> It’s Just A Linear Model</a></li>
<li><a class="" href="causality.html"><span class="header-section-number">16</span> Causality from observational data</a></li>
<li><a class="" href="mrp.html"><span class="header-section-number">17</span> Multilevel regression with post-stratification</a></li>
<li><a class="" href="text-as-data.html"><span class="header-section-number">18</span> Text as data</a></li>
<li class="book-part">Enrichment</li>
<li><a class="" href="using-the-cloud.html"><span class="header-section-number">19</span> Using the cloud</a></li>
<li><a class="" href="deploying-models.html"><span class="header-section-number">20</span> Deploying models</a></li>
<li><a class="" href="efficiency.html"><span class="header-section-number">21</span> Efficiency</a></li>
<li><a class="" href="concludingremarks.html"><span class="header-section-number">22</span> Concluding remarks, open issues, next steps</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="oh-you-think-and-shoulders.html"><span class="header-section-number">A</span> Oh you think and shoulders</a></li>
<li><a class="" href="papers.html"><span class="header-section-number">B</span> Papers</a></li>
<li><a class="" href="references-1.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="static-communication" class="section level1" number="6">
<h1>
<span class="header-section-number">6</span> Static communication<a class="anchor" aria-label="anchor" href="#static-communication"><i class="fas fa-link"></i></a>
</h1>
<p><strong>STATUS: Under construction.</strong></p>
<p><strong>Required reading</strong></p>
<ul>
<li>(The) Economist, 2013, ‘Johnson: Those six little rules,’ Prospero, 29 July 2013, available at: <a href="https://www.economist.com/prospero/2013/07/29/johnson-those-six-little-rules" class="uri">https://www.economist.com/prospero/2013/07/29/johnson-those-six-little-rules</a>.</li>
<li>Alexander, Monica, 2019, ‘The concentration and uniqueness of baby names in Australia and the US,’ <a href="https://www.monicaalexander.com/posts/2019-20-01-babynames/" class="uri">https://www.monicaalexander.com/posts/2019-20-01-babynames/</a>. (Look at how Monica explains concepts, especially the Gini coefficient, in a way that you can understand even if you’ve never heard of it before.)</li>
<li>Bronner, Laura, 2020, ‘Quant Editing,’ <a href="http://www.laurabronner.com/quant-editing" class="uri">http://www.laurabronner.com/quant-editing</a>. (Read these points and evaluate your own writing against them. It’s fine to not comply with them if you have a good reason, but you need to know that you’re not complying with them).</li>
<li>Girouard, Dave, 2020, ‘A Founder’s Guide to Writing Well,’ First Round Review, 4 August, <a href="https://firstround.com/review/a-founders-guide-to-writing-well/" class="uri">https://firstround.com/review/a-founders-guide-to-writing-well/</a>.</li>
<li>Graham, Paul, 2020, ‘How to Write Usefully,’ <a href="http://paulgraham.com/useful.html" class="uri">http://paulgraham.com/useful.html</a>. (Graham is good at writing for a programmer, but if you have a similar background then you may like this.)</li>
<li>Healy, Kieran, 2019, <em>Data Visualization: A Practical Introduction</em>, Princeton University Press, Chapters 3, 4, and 7, <a href="https://socviz.co/" class="uri">https://socviz.co/</a>.</li>
<li>Hodgetts, Paul, 2020, ‘The ggfortify Package,’ 31 December, <a href="https://www.hodgettsp.com/posts/r-ggfortify/" class="uri">https://www.hodgettsp.com/posts/r-ggfortify/</a>.</li>
<li>Wickham, Hadley, and Garrett Grolemund, 2017, <em>R for Data Science</em>, Chapter 28, <a href="https://r4ds.had.co.nz/" class="uri">https://r4ds.had.co.nz/</a>.</li>
<li>Zinsser, William, 1976 [2016], <em>On Writing Well</em>. (Any edition is fine. This book is included because if you’re serious about improving your writing then you should start with this book. It only takes a few hours to read. You’ll go onto other books, but start with this one.)</li>
<li>Zinsser, William, 2009, ‘Writing English as a Second Language,’ Lecture, Columbia Graduate School of Journalism, 11 August, <a href="https://theamericanscholar.org/writing-english-as-a-second-language/" class="uri">https://theamericanscholar.org/writing-english-as-a-second-language/</a>. (I’m realistic enough to realise that requiring a book, even though I’ve said it’s great and it’s short, is a bit of a stretch. If you really don’t want to commit to reading the Zinsser, then please at least read this ‘crib notes’ version of it.)</li>
</ul>
<p><strong>Required viewing</strong></p>
<ul>
<li>Kuriwaki, Shiro, 2020, ‘Making maps in R with sf,’ 1 March, freely available at: <a href="https://vimeo.com/394800836" class="uri">https://vimeo.com/394800836</a>.</li>
</ul>
<p><strong>Recommended reading</strong></p>
<ul>
<li>(The) Economist, 1991 [2014], ‘The Economist Style Guide,’ Twelfth edition. (Any edition is fine. Pick a point or two each day and think about how it related to your own writing.)</li>
<li>Cochrane, John H., 2005, ‘Writing Tips for Ph. D. Students,’ <a href="https://faculty.chicagobooth.edu/john.cochrane/research/papers/phd_paper_writing.pdf" class="uri">https://faculty.chicagobooth.edu/john.cochrane/research/papers/phd_paper_writing.pdf</a>. (This is aimed at academic research papers, but parts are still broadly relevant. And if you’re going into academia then this is very relevant.)</li>
<li>Codrey, Laura, 2013, ‘Churchill’s call for brevity,’ 17 October, <a href="https://blog.nationalarchives.gov.uk/churchills-call-for-brevity/" class="uri">https://blog.nationalarchives.gov.uk/churchills-call-for-brevity/</a>.</li>
<li>Engel, Claudia A, 2019, <em>Using Spatial Data with R</em>, 11 February, Chapter 3 Making Maps in R, freely available at: <a href="https://cengel.github.io/R-spatial/mapping.html" class="uri">https://cengel.github.io/R-spatial/mapping.html</a>.</li>
<li>Five Thirty Eight, 2020, Pick almost any article in their sports (<a href="https://fivethirtyeight.com/sports/" class="uri">https://fivethirtyeight.com/sports/</a>) or politics (<a href="https://fivethirtyeight.com/politics/" class="uri">https://fivethirtyeight.com/politics/</a>) sections. (The people at 538 write beautifully. Look at how their titles tell you exactly what is going on, or what they found. Look at how nicely their first paragraphs motivates you to read the rest of the article. Why am I <a href="https://fivethirtyeight.com/features/byu-is-scorching-the-nets-from-even-farther-back/">reading</a> about BYU basketball when I’m indifferent to both BYU and college basketball? Because that title and first paragraph hooked me.)</li>
<li>Graham, Paul, 2005, ‘Writing, Briefly,’ <a href="http://paulgraham.com/writing44.html" class="uri">http://paulgraham.com/writing44.html</a>.</li>
<li>Lovelace, Robin, Jakub Nowosad, Jannes Muenchow, 2020, <em>Geocomputation with R</em>, 29 March, Chapter 8, Making maps with R, freely available at: <a href="https://geocompr.robinlovelace.net/adv-map.html" class="uri">https://geocompr.robinlovelace.net/adv-map.html</a>.</li>
<li>Patrick, Cameron, 2019, ‘Plotting multiple variables at once using ggplot2 and tidyr,’ 26 November, <a href="https://cameronpatrick.com/post/2019/11/plotting-multiple-variables-ggplot2-tidyr/" class="uri">https://cameronpatrick.com/post/2019/11/plotting-multiple-variables-ggplot2-tidyr/</a>.</li>
<li>Patrick, Cameron, 2020, ‘Making beautiful bar charts with ggplot,’ 15 March, <a href="https://cameronpatrick.com/post/2020/03/beautiful-bar-charts-ggplot/" class="uri">https://cameronpatrick.com/post/2020/03/beautiful-bar-charts-ggplot/</a>.</li>
<li>Shapiro, Jesse M., ‘Four Steps to an Applied Micro Paper,’ <a href="https://www.brown.edu/Research/Shapiro/pdfs/foursteps.pdf" class="uri">https://www.brown.edu/Research/Shapiro/pdfs/foursteps.pdf</a>. (This is mostly recommended for the part about ‘the robot’ with regard to your data section.)</li>
<li>Shapiro, Julian, ‘Writing Well,’ <a href="https://www.julian.com/guide/write/intro" class="uri">https://www.julian.com/guide/write/intro</a>.</li>
<li>Strunk, William Jr., 1959 [2009] ‘The Elements of Style.’ (Any edition is fine. Eventually you’ll move beyond this, but it’s important to know the rules before you break them).</li>
<li>Vanderplas, Susan, Dianne Cook, and Heike Hofmann, 2020, ‘Testing Statistical Charts: What Makes a Good Graph?’ <em>Annual Review of Statistics and Its Application</em>, <a href="https://www.annualreviews.org/doi/abs/10.1146/annurev-statistics-031219-041252" class="uri">https://www.annualreviews.org/doi/abs/10.1146/annurev-statistics-031219-041252</a>
</li>
</ul>
<p><strong>Examples of well-written papers</strong></p>
<ul>
<li>Barron, Alexander TJ, Jenny Huang, Rebecca L. Spang, and Simon DeDeo. “Individuals, institutions, and innovation in the debates of the French Revolution.” Proceedings of the National Academy of Sciences 115, no. 18 (2018): 4607-4612. r</li>
<li>Chambliss, Daniel F. “The Mundanity of Excellence: An Ethnographic Report on Stratification and Olympic Swimmers.” <em>Sociological Theory</em> 7, no. 1 (1989): 70-86. <a href="doi:10.2307/202063" class="uri">doi:10.2307/202063</a>.</li>
<li>Joyner, Michael J. “Modeling: optimal marathon performance on the basis of physiological factors.” <em>Journal of Applied Physiology</em>, 70, no. 2 (1991): 683-687.</li>
<li>Kharecha, Pushker A., and James E. Hansen, 2013, ‘Prevented mortality and greenhouse gas emissions from historical and projected nuclear power,’ <em>Environmental science &amp; technology</em>, 47, no. 9, pp. 4889-4895.</li>
<li>Samuel, Arthur L., 1959, ‘Some studies in machine learning using the game of checkers,’ <em>IBM Journal of research and development</em>, 3, no. 3, pp. 210-229.</li>
<li>Wardrop, Robert L., 1995, ‘Simpson’s paradox and the hot hand in basketball,’ <em>The American Statistician</em>, 49, no. 1, 24-28.</li>
</ul>
<p><strong>Key concepts/skills/etc</strong></p>
<ul>
<li>Show the reader your raw data, or as close as you can come to it.</li>
<li>Use either <code>geom_point</code> or <code>geom_bar</code> initially.</li>
<li>Writing efficiently and effectively is a requirement if you want your work to be convincing.</li>
<li>Don’t waste your reader’s time.</li>
<li>A good title says what the paper is about, a great title says what the paper found.</li>
<li>For a six-page paper, a good abstract is a three to five sentence paragraph. For a longer paper your abstract can be slightly longer.</li>
<li>Thinking of maps as a (often fiddly, but strangely enjoyable) variant of a usual ggplot.</li>
<li>Broadening the data that we make available via interactive maps, while still telling a clear story.</li>
<li>Becoming comfortable with (and excited about) creating static maps.</li>
</ul>
<p><strong>Key libraries</strong></p>
<ul>
<li><code>ggplot</code></li>
<li><code>patchwork</code></li>
<li><code>ggmap</code></li>
<li><code>maps</code></li>
</ul>
<p><strong>Key functions/etc</strong></p>
<ul>
<li><code>ggplot::geom_point()</code></li>
<li><code>ggplot::geom_bar()</code></li>
<li><code>canada.cities</code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html">geom_polygon()</a></code></li>
<li><code><a href="https://rdrr.io/pkg/ggmap/man/ggmap.html">ggmap()</a></code></li>
<li><code><a href="https://rdrr.io/pkg/maps/man/map.html">map()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/map_data.html">map_data()</a></code></li>
</ul>
<div id="introduction-2" class="section level2" number="6.1">
<h2>
<span class="header-section-number">6.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction-2"><i class="fas fa-link"></i></a>
</h2>
<blockquote>
<p>[T]he duty of a scientist is not only to find new things, bu to communicate them successfully in at least three forms: 1) Writing papers and books. 2) Prepared public talks. 3) Impromptu talks.</p>
<p><span class="citation"><a href="references-1.html#ref-hamming1996" role="doc-biblioref">Hamming</a> (<a href="references-1.html#ref-hamming1996" role="doc-biblioref">1996, 65</a>)</span></p>
</blockquote>
<p>In order to convince someone of your story, your paper must be well-written, well-organized, and easy to follow. It should flow easily from one point to the next. It should have proper sentence structure, spelling, vocabulary, and grammar. Each point should be articulated clearly and completely without being overly verbose. Papers should demonstrate your understanding of the topics you are writing about and your confidence in discussing the terms, techniques and issues that are relevant. References must be included and properly cited because this enhances your credibility.</p>
<blockquote>
<p>People who need to write: founders, VCs, lawyers, software engineers, designers, painters, data scientists, musicians, filmmakers, creative directors, physical trainers, teachers, writers.
Learn to write.</p>
<p><a href="https://twitter.com/shl/status/1224346643585089536">Sahil Lavingia</a>.</p>
</blockquote>
<blockquote>
<p>This is great advice. Writing well has done just as much for me as knowing how to code. I’d add that if you’re intimidated by writing, start a blog and write often about something you’re interested in. You’ll get better. At least that’s what I’ve done for the past 10 years. :)</p>
<p><a href="https://twitter.com/vboykis/status/1224351069771386881?s=21">Vicki Boykis</a>.</p>
</blockquote>
<p>This chapter is about writing. By the end of it you will have a better idea of how to write short, detailed, quantitative papers that communicate exactly what you want them to and don’t waste the time of your reader.</p>
<p>One critical part of telling stories with <em>data</em>, is that it’s ultimately the data that has to convince them. You’re the medium, but the data are the message. To that end, the easiest way to try to convince someone of your story is to show them the data that allowed you to come to that story. Plot your raw data, or as close to it as possible.</p>
<p>While <code>ggplot</code> is a fantastic tool for doing this, there is a lot to that package and so it can be difficult to know where to start. My recommendation is that you start with either a scatter plot or a bar chart. What is critical is that you show the reader your raw data. These notes run through how to do that. It then discusses some more advanced options, but the important thing is that you show the reader your raw data (or as close to it as you can). Students seem to get confused what ‘raw’ means; I’m using it to refer to as close to the original dataset as possible, so no sums, or averages, etc, if possible. Sometimes your data are too disperse for that or you’ve got other constraints, so there needs to be an element of manipulation. The main point is that you, at the very least, need to plot the data that you’re going to be modelling. If you are dealing with larger datasets then just take a 10/1/0.1/etc per cent sample.</p>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-2"></span>
<img src="figures/jerry.png" alt="Show me the data!" width="90%"><p class="caption">
Figure 5.2: Show me the data!
</p>
</div>
<p>Source: YouTube screenshot.</p>
</div>
<div id="graphs" class="section level2" number="6.2">
<h2>
<span class="header-section-number">6.2</span> Graphs<a class="anchor" aria-label="anchor" href="#graphs"><i class="fas fa-link"></i></a>
</h2>
<p>Graphs are critical to tell a compelling story. And the most important thing with your graphs is to plot your raw data. Again: Plot. Your. Raw. Data.</p>
<p>Figure <a href="static-communication.html#fig:thomowillrose">6.1</a> provides invaluable advice (thank you to Thomas William Rosenthal).</p>
<div class="figure">
<span style="display:block;" id="fig:thomowillrose"></span>
<img src="figures/thomowillrose.png" alt="How do we get started with our data?" width="90%"><p class="caption">
Figure 6.1: How do we get started with our data?
</p>
</div>
<!-- To illustrate why it's important, let's first look at a famous example - Anscombe's quartet. -->
<!-- ```{r} -->
<!-- # head(anscombe) -->
<!-- ``` -->
<!-- I'll need to munge around with it to get it into the format we need. Don't worry about this code for now. -->
<!-- ```{r} -->
<!-- # the_x <-  -->
<!-- #   anscombe %>% -->
<!-- #   select(x1:x4) %>%  -->
<!-- #   tidyr::pivot_longer(cols = everything(), -->
<!-- #                names_to = "dataset", -->
<!-- #                values_to = "x") %>%  -->
<!-- #   mutate(dataset = str_remove(dataset, "x")) -->
<!-- #  -->
<!-- # the_y <-  -->
<!-- #   anscombe %>% -->
<!-- #   select(y1:y4) %>%  -->
<!-- #   tidyr::pivot_longer(cols = everything(), -->
<!-- #                names_to = "dataset", -->
<!-- #                values_to = "y") %>%  -->
<!-- #   mutate(dataset = str_remove(dataset, "y")) -->
<!-- #  -->
<!-- # anscombe_long <- cbind(the_x, the_y %>% select(y)) -->
<!-- #  -->
<!-- #  -->
<!-- # datasets::anscombe %>%  -->
<!-- #   select(x1:x4) %>%  -->
<!-- #   pivot_longer(x1:x4) %>%  -->
<!-- #   mutate(name = as.numeric(str_remove(name, "x"))) %>%  -->
<!-- #   rename(dataset = name, -->
<!-- #   x = value) %>%  -->
<!-- #   group_by(dataset) %>%  -->
<!-- #   mutate(i = 1:n()) %>%  -->
<!-- #   left_join(datasets::anscombe %>% -->
<!-- #   select(y1:y4) %>%  -->
<!-- #   pivot_longer(y1:y4) %>%  -->
<!-- #   mutate(name = as.numeric(str_remove(name, "y"))) %>%  -->
<!-- #   rename(dataset = name, -->
<!-- #   y = value) -->
<!-- ``` -->
<p>Let’s look at a somewhat fun example from the <code>datasauRus</code> package <span class="citation">(<a href="references-1.html#ref-citedatasauRus" role="doc-biblioref">Locke and D’Agostino McGowan 2018</a>)</span>.</p>
<div class="sourceCode" id="cb136"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lockedata/datasauRus">datasauRus</a></span><span class="op">)</span>

<span class="co"># Code from: https://juliasilge.com/blog/datasaurus-multiclass/</span>
<span class="va">datasaurus_dozen</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">dataset</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"dino"</span>, <span class="st">"star"</span>, <span class="st">"away"</span>, <span class="st">"bullseye"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html">across</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">mean</span>, sd <span class="op">=</span> <span class="va">sd</span><span class="op">)</span><span class="op">)</span>,
    x_y_cor <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span>
  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 4 × 6</span>
<span class="co">#&gt;   dataset  x_mean  x_sd y_mean  y_sd x_y_cor</span>
<span class="co">#&gt;   &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;</span>
<span class="co">#&gt; 1 away       54.3  16.8   47.8  26.9 -0.0641</span>
<span class="co">#&gt; 2 bullseye   54.3  16.8   47.8  26.9 -0.0686</span>
<span class="co">#&gt; 3 dino       54.3  16.8   47.8  26.9 -0.0645</span>
<span class="co">#&gt; 4 star       54.3  16.8   47.8  26.9 -0.0630</span></code></pre></div>
<p>And despite these similarities at a summary statistic level, they’re actually very different, well, beasts, when you plot the raw data.</p>
<div class="sourceCode" id="cb137"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datasaurus_dozen</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">dataset</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"dino"</span>, <span class="st">"star"</span>, <span class="st">"away"</span>, <span class="st">"bullseye"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span>, colour<span class="op">=</span><span class="va">dataset</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">2</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"Dataset"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="11-static_communication_files/figure-html/unnamed-chunk-4-1.png" width="672"></div>
<div id="bar-chart" class="section level3" number="6.2.1">
<h3>
<span class="header-section-number">6.2.1</span> Bar chart<a class="anchor" aria-label="anchor" href="#bar-chart"><i class="fas fa-link"></i></a>
</h3>
<p>Bar charts are useful when you have one variable that you want to focus on. Hint: you almost always have one variable that you want to focus on. Hence, you should almost always include at least one (and likely many) bar charts. Bar charts go by a variety of names, depending on their specifics. I recommend the <a href="https://github.com/rstudio/cheatsheets/raw/master/data-visualization-2.1.pdf">R Studio Data Viz Cheat Sheet</a>.</p>
<p>To get started, let’s simulate some data.</p>
<div class="sourceCode" id="cb138"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">853</span><span class="op">)</span>

<span class="va">number_of_observation</span> <span class="op">&lt;-</span> <span class="fl">10000</span>

<span class="va">example_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>person <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">number_of_observation</span><span class="op">)</span>,
                       smoker <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Smoker"</span>, <span class="st">"Non-smoker"</span><span class="op">)</span>,
                                       size <span class="op">=</span> <span class="va">number_of_observation</span>, 
                                       replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
                       age_died <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="va">number_of_observation</span>,
                                        min <span class="op">=</span> <span class="fl">0</span>,
                                        max <span class="op">=</span> <span class="fl">100</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,
                       height <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">50</span><span class="op">:</span><span class="fl">220</span><span class="op">)</span>, 
                                       size <span class="op">=</span>  <span class="va">number_of_observation</span>, 
                                       replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
                       num_children <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>,
                                             size <span class="op">=</span> <span class="va">number_of_observation</span>, 
                                             replace <span class="op">=</span> <span class="cn">TRUE</span>,
                                             prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.40</span>, <span class="fl">0.15</span>, <span class="fl">0.1</span>, <span class="fl">0.05</span><span class="op">)</span><span class="op">)</span>
                       <span class="op">)</span></code></pre></div>
<p>First, let’s have a look at the data.</p>
<div class="sourceCode" id="cb139"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">example_data</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 × 5</span>
<span class="co">#&gt;   person smoker     age_died height num_children</span>
<span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;         &lt;dbl&gt;  &lt;int&gt;        &lt;int&gt;</span>
<span class="co">#&gt; 1      1 Smoker           55     80            3</span>
<span class="co">#&gt; 2      2 Non-smoker       54     78            2</span>
<span class="co">#&gt; 3      3 Non-smoker       84    109            1</span>
<span class="co">#&gt; 4      4 Smoker           75    114            4</span>
<span class="co">#&gt; 5      5 Smoker           32    135            1</span>
<span class="co">#&gt; 6      6 Smoker           37    220            0</span></code></pre></div>
<p>Now let’s plot the age distribution. Based on our simulated data, we’re expecting a fairly uniform plot.</p>
<div class="sourceCode" id="cb140"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">example_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">age_died</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="11-static_communication_files/figure-html/unnamed-chunk-7-1.png" width="672"></div>
<p>Now let’s make it look a little better. There are themes that are built into ggplot, or you can install other themes from other packages, or you can edit aspects yourself. I’d recommend starting with the <code>ggthemes</code> package for some fun ones, but I tend to just use classic or minimal. Remember that you must always refer to your graphs in your text (Figure <a href="static-communication.html#fig:myfrstgraph">6.2</a>).</p>
<div class="sourceCode" id="cb141"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">example_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">age_died</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Age died"</span>,
       y <span class="op">=</span> <span class="st">"Number"</span>,
       title <span class="op">=</span> <span class="st">"Number of people who died at each age"</span>,
       caption <span class="op">=</span> <span class="st">"Source: Simulated data."</span><span class="op">)</span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:myfrstgraph"></span>
<img src="11-static_communication_files/figure-html/myfrstgraph-1.png" alt="Number of people who died at each age" width="672"><p class="caption">
Figure 6.2: Number of people who died at each age
</p>
</div>
<p>We may want to facet by some variable, in this case whether the person is a smoker (Figure <a href="static-communication.html#fig:mysecndgraph">6.3</a>).</p>
<div class="sourceCode" id="cb142"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">example_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">age_died</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">smoker</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Age died"</span>,
       y <span class="op">=</span> <span class="st">"Number"</span>,
       title <span class="op">=</span> <span class="st">"Number of people who died at each age, by whether they smoke"</span>,
       caption <span class="op">=</span> <span class="st">"Source: Simulated data."</span><span class="op">)</span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:mysecndgraph"></span>
<img src="11-static_communication_files/figure-html/mysecndgraph-1.png" alt="Number of people who died at each age, by whether they smoke" width="672"><p class="caption">
Figure 6.3: Number of people who died at each age, by whether they smoke
</p>
</div>
<p>Alternatively, we may wish to colour by that instead (Figure <a href="static-communication.html#fig:mysthidgraph">6.4</a>). I’ll filter to just a handful of age-groups to keep it tractable.</p>
<div class="sourceCode" id="cb143"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">example_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">age_died</span> <span class="op">&lt;</span> <span class="fl">25</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">age_died</span>, fill <span class="op">=</span> <span class="va">smoker</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"dodge"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Age died"</span>,
       y <span class="op">=</span> <span class="st">"Number"</span>,
       fill <span class="op">=</span> <span class="st">"Smoker"</span>,
       title <span class="op">=</span> <span class="st">"Number of people who died at each age, by whether they smoke"</span>,
       caption <span class="op">=</span> <span class="st">"Source: Simulated data."</span><span class="op">)</span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:mysthidgraph"></span>
<img src="11-static_communication_files/figure-html/mysthidgraph-1.png" alt="Number of people who died at each age, by whether they smoke" width="672"><p class="caption">
Figure 6.4: Number of people who died at each age, by whether they smoke
</p>
</div>
<p>It’s important to recognise that a boxplot hides the full distribution of a variable. Unless you need to communicate the general distribution of many variables at once then you should not use them. The same box plot can apply to very different distributions.</p>
</div>
<div id="scatter-plot" class="section level3" number="6.2.2">
<h3>
<span class="header-section-number">6.2.2</span> Scatter plot<a class="anchor" aria-label="anchor" href="#scatter-plot"><i class="fas fa-link"></i></a>
</h3>
<p>Often, we are also interested in the relationship between two series. We’ll do that with a scatter plot. A scatter plot is almost always your best choice <span class="citation">(<a href="references-1.html#ref-weissgerber2015beyond" role="doc-biblioref">Weissgerber et al. 2015</a>)</span>. In this case, let’s simulate some data, say years of education and income.</p>
<div class="sourceCode" id="cb144"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">853</span><span class="op">)</span>

<span class="va">number_of_observation</span> <span class="op">&lt;-</span> <span class="fl">500</span>

<span class="va">scatter_data</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>years_of_education <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">number_of_observation</span>, min <span class="op">=</span> <span class="fl">10</span>, max <span class="op">=</span> <span class="fl">25</span><span class="op">)</span>,
         error <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span>n<span class="op">=</span> <span class="va">number_of_observation</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span>,
         <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>income <span class="op">=</span> <span class="va">years_of_education</span> <span class="op">*</span> <span class="fl">5000</span> <span class="op">+</span> <span class="va">error</span>,
         income <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="va">income</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="fl">0</span>, <span class="va">income</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">scatter_data</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 × 3</span>
<span class="co">#&gt;   years_of_education   error income</span>
<span class="co">#&gt;                &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;</span>
<span class="co">#&gt; 1               15.4 -13782. 63180.</span>
<span class="co">#&gt; 2               11.8   7977. 66985.</span>
<span class="co">#&gt; 3               17.3  -9787. 76498.</span>
<span class="co">#&gt; 4               14.7  12999. 86689.</span>
<span class="co">#&gt; 5               10.6  -1500. 51302.</span>
<span class="co">#&gt; 6               16.1   1911. 82202.</span></code></pre></div>
<p>Now let’s look at income as a function of years of education (Figure <a href="static-communication.html#fig:scattorplot">6.5</a>).</p>
<div class="sourceCode" id="cb145"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">scatter_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">years_of_education</span>, y <span class="op">=</span> <span class="va">income</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Years of education"</span>,
       y <span class="op">=</span> <span class="st">"Income"</span>,
       title <span class="op">=</span> <span class="st">"Relationship between income and years of education"</span>,
       caption <span class="op">=</span> <span class="st">"Source: Simulated data."</span><span class="op">)</span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:scattorplot"></span>
<img src="11-static_communication_files/figure-html/scattorplot-1.png" alt="Relationship between income and years of education" width="672"><p class="caption">
Figure 6.5: Relationship between income and years of education
</p>
</div>
</div>
<div id="never-use-box-plots" class="section level3" number="6.2.3">
<h3>
<span class="header-section-number">6.2.3</span> Never use box plots<a class="anchor" aria-label="anchor" href="#never-use-box-plots"><i class="fas fa-link"></i></a>
</h3>
<p>Box plots are almost never appropriate because they hide the distribution of data. To see this, consider some data from a beta distribution.</p>
<div class="sourceCode" id="cb146"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">left</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html">rbeta</a></span><span class="op">(</span><span class="fl">10000</span>,<span class="fl">5</span>,<span class="fl">2</span><span class="op">)</span>
<span class="va">right</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html">rbeta</a></span><span class="op">(</span><span class="fl">10000</span>,<span class="fl">2</span>,<span class="fl">5</span><span class="op">)</span>
<span class="va">middle</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html">rbeta</a></span><span class="op">(</span><span class="fl">10000</span>,<span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span>

<span class="va">tricky_data</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>left_and_right <span class="op">=</span> 
           <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
             <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html">rbeta</a></span><span class="op">(</span><span class="fl">10000</span>,<span class="fl">5</span>,<span class="fl">2</span><span class="op">)</span>,
             <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html">rbeta</a></span><span class="op">(</span><span class="fl">10000</span>,<span class="fl">2</span>,<span class="fl">5</span><span class="op">)</span>
           <span class="op">)</span>,
         middle <span class="op">=</span> 
           <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html">rbeta</a></span><span class="op">(</span><span class="fl">20000</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Then compare the box plots.</p>
<div class="sourceCode" id="cb147"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">tricky_data</span><span class="op">$</span><span class="va">left_and_right</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="11-static_communication_files/figure-html/unnamed-chunk-10-1.png" width="672"></div>
<div class="sourceCode" id="cb148"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">tricky_data</span><span class="op">$</span><span class="va">middle</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="11-static_communication_files/figure-html/unnamed-chunk-10-2.png" width="672"></div>
<div class="sourceCode" id="cb149"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">tricky_data</span><span class="op">$</span><span class="va">left_and_right</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="11-static_communication_files/figure-html/unnamed-chunk-10-3.png" width="672"></div>
<div class="sourceCode" id="cb150"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">tricky_data</span><span class="op">$</span><span class="va">middle</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="11-static_communication_files/figure-html/unnamed-chunk-10-4.png" width="672"></div>
</div>
<div id="other-1" class="section level3" number="6.2.4">
<h3>
<span class="header-section-number">6.2.4</span> Other<a class="anchor" aria-label="anchor" href="#other-1"><i class="fas fa-link"></i></a>
</h3>
<div id="best-fit" class="section level4" number="6.2.4.1">
<h4>
<span class="header-section-number">6.2.4.1</span> Best fit<a class="anchor" aria-label="anchor" href="#best-fit"><i class="fas fa-link"></i></a>
</h4>
<p>If we’re interested in quickly adding a line of best fit then, continuing with the earlier income example, we can do that with <code><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth()</a></code> (Figure <a href="static-communication.html#fig:scattorplottwo">6.6</a>).</p>
<div class="sourceCode" id="cb151"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">scatter_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">years_of_education</span>, y <span class="op">=</span> <span class="va">income</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="va">lm</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Years of education"</span>,
       y <span class="op">=</span> <span class="st">"Income"</span>,
       title <span class="op">=</span> <span class="st">"Relationship between income and years of education"</span>,
       caption <span class="op">=</span> <span class="st">"Source: Simulated data."</span><span class="op">)</span>
<span class="co">#&gt; `geom_smooth()` using formula 'y ~ x'</span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:scattorplottwo"></span>
<img src="11-static_communication_files/figure-html/scattorplottwo-1.png" alt="Relationship between income and years of education" width="672"><p class="caption">
Figure 6.6: Relationship between income and years of education
</p>
</div>
</div>
<div id="histogram" class="section level4" number="6.2.4.2">
<h4>
<span class="header-section-number">6.2.4.2</span> Histogram<a class="anchor" aria-label="anchor" href="#histogram"><i class="fas fa-link"></i></a>
</h4>
<p>If we want to get counts by groups, then we may want to use a histogram. Figure <a href="static-communication.html#fig:hisogramone">6.7</a> shows the counts for our simulated incomes.</p>
<div class="sourceCode" id="cb152"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">scatter_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">income</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Income"</span>,
       y <span class="op">=</span> <span class="st">"Number"</span>,
       title <span class="op">=</span> <span class="st">"Distribution of income"</span>,
       caption <span class="op">=</span> <span class="st">"Source: Simulated data."</span><span class="op">)</span>
<span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with</span>
<span class="co">#&gt; `binwidth`.</span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:hisogramone"></span>
<img src="11-static_communication_files/figure-html/hisogramone-1.png" alt="Distribution of income" width="672"><p class="caption">
Figure 6.7: Distribution of income
</p>
</div>
</div>
<div id="multiple-plots" class="section level4" number="6.2.4.3">
<h4>
<span class="header-section-number">6.2.4.3</span> Multiple plots<a class="anchor" aria-label="anchor" href="#multiple-plots"><i class="fas fa-link"></i></a>
</h4>
<p>Finally, let’s try putting them together. We’re going to use the <code>patchwork</code> package <span class="citation">(<a href="references-1.html#ref-citepatchwork" role="doc-biblioref">Pedersen 2020</a>)</span> and the <code>penguins</code> package for data. Don’t forget <code>install.packages("palmerpenguins")</code> as this is probably the first time you’ve used the package.</p>
<div class="sourceCode" id="cb153"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com">patchwork</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/">palmerpenguins</a></span><span class="op">)</span>

<span class="va">p1</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu">palmerpenguins</span><span class="fu">::</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/reference/penguins.html">penguins</a></span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">bill_length_mm</span>, <span class="va">bill_depth_mm</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Bill length (mm)"</span>,
       y <span class="op">=</span> <span class="st">"Bill depth (mm)"</span><span class="op">)</span>
<span class="va">p2</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu">palmerpenguins</span><span class="fu">::</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/reference/penguins.html">penguins</a></span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">species</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Species"</span>,
       y <span class="op">=</span> <span class="st">"Number"</span><span class="op">)</span>

<span class="va">p1</span> <span class="op">+</span> <span class="va">p2</span></code></pre></div>
<div class="inline-figure"><img src="11-static_communication_files/figure-html/unnamed-chunk-11-1.png" width="672"></div>
<p>And we can make things fairly involved fairly quickly.</p>
<div class="sourceCode" id="cb154"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="op">(</span><span class="va">p1</span> <span class="op">|</span> <span class="va">p2</span><span class="op">)</span> <span class="op">/</span>
  <span class="va">p2</span></code></pre></div>
<div class="inline-figure"><img src="11-static_communication_files/figure-html/unnamed-chunk-12-1.png" width="672"></div>
</div>
</div>
</div>
<div id="tables" class="section level2" number="6.3">
<h2>
<span class="header-section-number">6.3</span> Tables<a class="anchor" aria-label="anchor" href="#tables"><i class="fas fa-link"></i></a>
</h2>
<p>Tables are also critical to tell a compelling story. We may prefer a table to a graph when there are only a few features that we want to focus on. We’ll use <code><a href="https://rdrr.io/pkg/knitr/man/kable.html">knitr::kable()</a></code> alongside the ‘kableExtra’ package and also the <code>gt</code> package.</p>
<p>Let’s start with the kable package and the summary dinosaur data from earlier.</p>
<div class="sourceCode" id="cb155"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">example_data</span> <span class="op">&lt;-</span> 
  <span class="va">datasaurus_dozen</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">dataset</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"dino"</span>, <span class="st">"star"</span>, <span class="st">"away"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>
    Mean    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>,
    Std_dev <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>,
    <span class="op">)</span> 

<span class="va">example_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left">dataset</th>
<th align="right">Mean</th>
<th align="right">Std_dev</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">away</td>
<td align="right">54.26610</td>
<td align="right">16.76983</td>
</tr>
<tr class="even">
<td align="left">dino</td>
<td align="right">54.26327</td>
<td align="right">16.76514</td>
</tr>
<tr class="odd">
<td align="left">star</td>
<td align="right">54.26734</td>
<td align="right">16.76896</td>
</tr>
</tbody>
</table></div>
<p>Even the defaults are pretty good, but we can add a few tweaks to make the table better. The first is that this many significant digits is inappropriate, we may also like to add a caption, make the column names consistent, and change the alignment.</p>
<div class="sourceCode" id="cb156"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">example_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">2</span>, 
               caption <span class="op">=</span> <span class="st">"My first table."</span>, 
               col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Dataset"</span>, <span class="st">"Mean"</span>, <span class="st">"Standard deviation"</span><span class="op">)</span>,
               align <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'l'</span>, <span class="st">'l'</span>, <span class="st">'l'</span><span class="op">)</span>
               <span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:unnamed-chunk-14">Table 6.1: </span>My first table.</caption>
<thead><tr class="header">
<th align="left">Dataset</th>
<th align="left">Mean</th>
<th align="left">Standard deviation</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">away</td>
<td align="left">54.27</td>
<td align="left">16.77</td>
</tr>
<tr class="even">
<td align="left">dino</td>
<td align="left">54.26</td>
<td align="left">16.77</td>
</tr>
<tr class="odd">
<td align="left">star</td>
<td align="left">54.27</td>
<td align="left">16.77</td>
</tr>
</tbody>
</table></div>
<p>The ‘’kableExtra’ package builds extra functionality <span class="citation">(<a href="references-1.html#ref-citekableextra" role="doc-biblioref">Zhu 2020</a>)</span>.</p>
<p>The <code>gt</code> package <span class="citation">(<a href="references-1.html#ref-citegt" role="doc-biblioref">Iannone, Cheng, and Schloerke 2020</a>)</span> is a newer package that brings a lot of exciting features. However, being newer it sometimes has issues with PDF output.</p>
<div class="sourceCode" id="cb157"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com/">gt</a></span><span class="op">)</span>

<span class="va">example_data</span> <span class="op"><a href="https://gt.rstudio.com/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div id="ghkvxdrhjj" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ghkvxdrhjj .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ghkvxdrhjj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ghkvxdrhjj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ghkvxdrhjj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ghkvxdrhjj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ghkvxdrhjj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ghkvxdrhjj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ghkvxdrhjj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ghkvxdrhjj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ghkvxdrhjj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ghkvxdrhjj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ghkvxdrhjj .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ghkvxdrhjj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ghkvxdrhjj .gt_from_md > :first-child {
  margin-top: 0;
}

#ghkvxdrhjj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ghkvxdrhjj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ghkvxdrhjj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#ghkvxdrhjj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ghkvxdrhjj .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#ghkvxdrhjj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ghkvxdrhjj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ghkvxdrhjj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ghkvxdrhjj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ghkvxdrhjj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ghkvxdrhjj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#ghkvxdrhjj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ghkvxdrhjj .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#ghkvxdrhjj .gt_left {
  text-align: left;
}

#ghkvxdrhjj .gt_center {
  text-align: center;
}

#ghkvxdrhjj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ghkvxdrhjj .gt_font_normal {
  font-weight: normal;
}

#ghkvxdrhjj .gt_font_bold {
  font-weight: bold;
}

#ghkvxdrhjj .gt_font_italic {
  font-style: italic;
}

#ghkvxdrhjj .gt_super {
  font-size: 65%;
}

#ghkvxdrhjj .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<div class="inline-table"><table class="gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">dataset</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Std_dev</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_left">away</td>
<td class="gt_row gt_right">54.26610</td>
<td class="gt_row gt_right">16.76982</td>
</tr>
<tr>
<td class="gt_row gt_left">dino</td>
<td class="gt_row gt_right">54.26327</td>
<td class="gt_row gt_right">16.76514</td>
</tr>
<tr>
<td class="gt_row gt_left">star</td>
<td class="gt_row gt_right">54.26734</td>
<td class="gt_row gt_right">16.76896</td>
</tr>
</tbody>
</table></div>
</div>
<p>We could add sub-titles easily.</p>
<div class="sourceCode" id="cb158"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">example_data</span> <span class="op"><a href="https://gt.rstudio.com/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://gt.rstudio.com/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html">tab_header</a></span><span class="op">(</span>
    title <span class="op">=</span> <span class="st">"Summary stats can be misleading"</span>,
    subtitle <span class="op">=</span> <span class="st">"With an example from a dinosaur!"</span>
  <span class="op">)</span></code></pre></div>
<div id="ymmvvnknyk" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ymmvvnknyk .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ymmvvnknyk .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ymmvvnknyk .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ymmvvnknyk .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ymmvvnknyk .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ymmvvnknyk .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ymmvvnknyk .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ymmvvnknyk .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ymmvvnknyk .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ymmvvnknyk .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ymmvvnknyk .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ymmvvnknyk .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ymmvvnknyk .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ymmvvnknyk .gt_from_md > :first-child {
  margin-top: 0;
}

#ymmvvnknyk .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ymmvvnknyk .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ymmvvnknyk .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#ymmvvnknyk .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ymmvvnknyk .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#ymmvvnknyk .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ymmvvnknyk .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ymmvvnknyk .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ymmvvnknyk .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ymmvvnknyk .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ymmvvnknyk .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#ymmvvnknyk .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ymmvvnknyk .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#ymmvvnknyk .gt_left {
  text-align: left;
}

#ymmvvnknyk .gt_center {
  text-align: center;
}

#ymmvvnknyk .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ymmvvnknyk .gt_font_normal {
  font-weight: normal;
}

#ymmvvnknyk .gt_font_bold {
  font-weight: bold;
}

#ymmvvnknyk .gt_font_italic {
  font-style: italic;
}

#ymmvvnknyk .gt_super {
  font-size: 65%;
}

#ymmvvnknyk .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<div class="inline-table"><table class="gt_table">
<thead class="gt_header">
<tr>
<th colspan="3" class="gt_heading gt_title gt_font_normal" style>Summary stats can be misleading</th>
    </tr>
<tr>
<th colspan="3" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>With an example from a dinosaur!</th>
    </tr>
</thead>
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">dataset</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Std_dev</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_left">away</td>
<td class="gt_row gt_right">54.26610</td>
<td class="gt_row gt_right">16.76982</td>
</tr>
<tr>
<td class="gt_row gt_left">dino</td>
<td class="gt_row gt_right">54.26327</td>
<td class="gt_row gt_right">16.76514</td>
</tr>
<tr>
<td class="gt_row gt_left">star</td>
<td class="gt_row gt_right">54.26734</td>
<td class="gt_row gt_right">16.76896</td>
</tr>
</tbody>
</table></div>
</div>
<p>One common reason for needing a table is to report regression results. You should consider <code>gtsummary</code>, <code>stargazer</code>, and <code>modelsummary</code>. But at the moment, my favourite is <code>modelsummary</code> <span class="citation">(<a href="references-1.html#ref-citemodelsummary" role="doc-biblioref">Arel-Bundock 2021</a>)</span>.</p>
<div class="sourceCode" id="cb159"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://vincentarelbundock.github.io/modelsummary/">modelsummary</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'modelsummary'</span>
<span class="co">#&gt; The following object is masked from 'package:gt':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     escape_latex</span>

<span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span>, <span class="va">datasaurus_dozen</span><span class="op">)</span>
<span class="fu"><a href="https://vincentarelbundock.github.io/modelsummary/reference/modelsummary.html">modelsummary</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:center;">
Model 1
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:center;">
53.590
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(2.119)
</td>
</tr>
<tr>
<td style="text-align:left;">
x
</td>
<td style="text-align:center;">
−0.106
</td>
</tr>
<tr>
<td style="text-align:left;box-shadow: 0px 1px">
</td>
<td style="text-align:center;box-shadow: 0px 1px">
(0.037)
</td>
</tr>
<tr>
<td style="text-align:left;">
Num.Obs.
</td>
<td style="text-align:center;">
1846
</td>
</tr>
<tr>
<td style="text-align:left;">
R2
</td>
<td style="text-align:center;">
0.004
</td>
</tr>
<tr>
<td style="text-align:left;">
R2 Adj.
</td>
<td style="text-align:center;">
0.004
</td>
</tr>
<tr>
<td style="text-align:left;">
AIC
</td>
<td style="text-align:center;">
17383.0
</td>
</tr>
<tr>
<td style="text-align:left;">
BIC
</td>
<td style="text-align:center;">
17399.6
</td>
</tr>
<tr>
<td style="text-align:left;">
Log.Lik.
</td>
<td style="text-align:center;">
−8688.506
</td>
</tr>
<tr>
<td style="text-align:left;">
F
</td>
<td style="text-align:center;">
8.072
</td>
</tr>
</tbody>
</table></div>
</div>
<div id="maps" class="section level2" number="6.4">
<h2>
<span class="header-section-number">6.4</span> Maps<a class="anchor" aria-label="anchor" href="#maps"><i class="fas fa-link"></i></a>
</h2>
<p>In many ways maps can be thought of as a fancy graph, where the x-axis is latitude, the y-axis is longitude, and there is some outline or a background image. We are used to this type of set-up, for instance, in a ggplot setting that is quite familiar. Static maps will be useful for printed output, such as a PDF or Word report, or where there is something in particular that you want to illustrate.</p>
<div class="sourceCode" id="cb160"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html">geom_polygon</a></span><span class="op">(</span> <span class="co"># First draw an outline</span>
    data <span class="op">=</span> <span class="va">some_data</span>, 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">latitude</span>, 
        y <span class="op">=</span> <span class="va">longitude</span>,
        group <span class="op">=</span> <span class="va">group</span>
        <span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span> <span class="co"># Then add points of interest</span>
    data <span class="op">=</span> <span class="va">some_other_data</span>, 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">latitude</span>, 
        y <span class="op">=</span> <span class="va">longitude</span><span class="op">)</span>
    <span class="op">)</span></code></pre></div>
<p>And while there are some small complications, for the most part it is as straight-forward as that. The first step is to get some data. And helpfully, there is some geographic data built into ggplot, and there is some other information built into a package called <code>maps</code>.</p>
<div class="sourceCode" id="cb161"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">maps</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>

<span class="va">canada</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/map_data.html">map_data</a></span><span class="op">(</span>database <span class="op">=</span> <span class="st">"world"</span>, regions <span class="op">=</span> <span class="st">"canada"</span><span class="op">)</span>
<span class="va">canadian_cities</span> <span class="op">&lt;-</span> <span class="fu">maps</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/maps/man/canada.cities.html">canada.cities</a></span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">canada</span><span class="op">)</span>
<span class="co">#&gt;        long      lat group order region    subregion</span>
<span class="co">#&gt; 1 -59.78760 43.93960     1     1 Canada Sable Island</span>
<span class="co">#&gt; 2 -59.92227 43.90391     1     2 Canada Sable Island</span>
<span class="co">#&gt; 3 -60.03775 43.90664     1     3 Canada Sable Island</span>
<span class="co">#&gt; 4 -60.11426 43.93911     1     4 Canada Sable Island</span>
<span class="co">#&gt; 5 -60.11748 43.95337     1     5 Canada Sable Island</span>
<span class="co">#&gt; 6 -59.93604 43.93960     1     6 Canada Sable Island</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">canadian_cities</span><span class="op">)</span>
<span class="co">#&gt;            name country.etc    pop   lat    long capital</span>
<span class="co">#&gt; 1 Abbotsford BC          BC 157795 49.06 -122.30       0</span>
<span class="co">#&gt; 2      Acton ON          ON   8308 43.63  -80.03       0</span>
<span class="co">#&gt; 3 Acton Vale QC          QC   5153 45.63  -72.57       0</span>
<span class="co">#&gt; 4    Airdrie AB          AB  25863 51.30 -114.02       0</span>
<span class="co">#&gt; 5    Aklavik NT          NT    643 68.22 -135.00       0</span>
<span class="co">#&gt; 6    Albanel QC          QC   1090 48.87  -72.42       0</span></code></pre></div>
<p>With that information in hand we can then create a map of Canada that shows the cities with a population over 1,000. (The <code><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html">geom_polygon()</a></code> function within <code>ggplot</code> draws shapes, by connecting points within groups. And the <code><a href="https://ggplot2.tidyverse.org/reference/coord_map.html">coord_map()</a></code> function adjusts for the fact that we are making something that is 2D map to represent something that is 3D.)</p>
<div class="sourceCode" id="cb162"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html">geom_polygon</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">canada</span>,
               <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">long</span>,
                   y <span class="op">=</span> <span class="va">lat</span>,
                   group <span class="op">=</span> <span class="va">group</span><span class="op">)</span>,
               fill <span class="op">=</span> <span class="st">"white"</span>, 
               colour <span class="op">=</span> <span class="st">"grey"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_map.html">coord_map</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">40</span>, <span class="fl">70</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">canadian_cities</span><span class="op">$</span><span class="va">long</span>, 
                 y <span class="op">=</span> <span class="va">canadian_cities</span><span class="op">$</span><span class="va">lat</span><span class="op">)</span>,
             alpha <span class="op">=</span> <span class="fl">0.3</span>,
             color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_classic</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Longitude"</span>,
       y <span class="op">=</span> <span class="st">"Latitude"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="11-static_communication_files/figure-html/unnamed-chunk-20-1.png" width="672"></div>
<div class="sourceCode" id="cb163"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># If I'm being honest, this 'simple example' took me six hours to work out. Firstly </span>
<span class="co"># to find Canada and then to find Canadian cities.</span></code></pre></div>
<p>As is often the case with R, there are many different ways to get started creating static maps. We’ve already seen how they can be built using simply ggplot, but here we’ll explore one package that has a bunch of functionalities built in that will make things easier: <code>ggmap</code>.</p>
<p>There are two essential components to a map: 1) some border or background image (also known as a tile); and 2) something of interest within that border or on top of that tile. In <code>ggmap</code>, we will use an open-source option for our tile, Stamen Maps (maps.stamen.com), and we will use plot points based on latitude and longitude.</p>
<div id="australian-polling-places" class="section level3" number="6.4.1">
<h3>
<span class="header-section-number">6.4.1</span> Australian polling places<a class="anchor" aria-label="anchor" href="#australian-polling-places"><i class="fas fa-link"></i></a>
</h3>
<p>Like Canada, in Australia people go to specific locations, called booths, to vote. These booths have latitudes and longitudes and so we can plot these. One reason we may like to do this is to notice patterns over geographies.</p>
<p>To get started we need to get a tile. We are going to use <code>ggmap</code> to get a tile from Stamen Maps, which builds on OpenStreetMap (openstreetmap.org). The main argument to this function is to specify a bounding box. This requires two latitudes - one for the top of the box and one for the bottom of the box - and two longitudes - one for the left of the box and one for the right of the box. (It can be useful to use Google Maps, or an alternative, to find the values of these that you need.) The bounding box provides the coordinates of the edges that you are interested in. In this case I have provided it with coordinates such that it will be centered around Canberra, Australia (our equivalent of Ottawa - a small city that was created for the purposes of being the capital).</p>
<div class="sourceCode" id="cb164"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dkahle/ggmap">ggmap</a></span><span class="op">)</span>

<span class="va">bbox</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>left <span class="op">=</span> <span class="fl">148.95</span>, bottom <span class="op">=</span> <span class="op">-</span><span class="fl">35.5</span>, right <span class="op">=</span> <span class="fl">149.3</span>, top <span class="op">=</span> <span class="op">-</span><span class="fl">35.1</span><span class="op">)</span></code></pre></div>
<p>Once you have defined the bounding box, then the function <code><a href="https://rdrr.io/pkg/ggmap/man/get_stamenmap.html">get_stamenmap()</a></code> will get the tiles in that area. The number of tiles that it needs to get depends on the zoom, and the type of tiles that it gets depends on the maptype. I’ve chosen the maptype that I like here - the black and white option - but the helpfile specifies a few others that you may like. At this point you can pass your maps to ggmap and it will plot the tile! It will be actively downloading these tiles, so you need an internet connection.</p>
<div class="sourceCode" id="cb165"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">canberra_stamen_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/get_stamenmap.html">get_stamenmap</a></span><span class="op">(</span><span class="va">bbox</span>, zoom <span class="op">=</span> <span class="fl">11</span>, maptype <span class="op">=</span> <span class="st">"toner-lite"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/ggmap.html">ggmap</a></span><span class="op">(</span><span class="va">canberra_stamen_map</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="11-static_communication_files/figure-html/unnamed-chunk-22-1.png" width="672"></div>
<p>Once we have a map then we can use <code><a href="https://rdrr.io/pkg/ggmap/man/ggmap.html">ggmap()</a></code> to plot it. (That circle in the middle of the map is where the Australian Parliament House is… yes, our parliament is surrounded by circular roads (we call them ‘roundabouts’), actually it’s surrounded by two of them.)</p>
<p>Now we want to get some data that we will plot on top of our tiles. We will just plot the location of the polling places, based on which ‘division’ (the Australian equivalent to ‘ridings’ in Canada) it is. This is available here: <a href="https://results.aec.gov.au/20499/Website/Downloads/HouseTppByPollingPlaceDownload-20499.csv" class="uri">https://results.aec.gov.au/20499/Website/Downloads/HouseTppByPollingPlaceDownload-20499.csv</a>. (The Australian Electoral Commission (AEC) is the official government agency that is responsible for elections in Australia.)</p>
<div class="sourceCode" id="cb166"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Read in the booths data for each year</span>
<span class="va">booths</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">"https://results.aec.gov.au/24310/Website/Downloads/GeneralPollingPlacesDownload-24310.csv"</span>, 
                          skip <span class="op">=</span> <span class="fl">1</span>, 
                          guess_max <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">booths</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 × 15</span>
<span class="co">#&gt;   State DivisionID DivisionNm PollingPlaceID</span>
<span class="co">#&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt;               &lt;dbl&gt;</span>
<span class="co">#&gt; 1 ACT          318 Bean                93925</span>
<span class="co">#&gt; 2 ACT          318 Bean                93927</span>
<span class="co">#&gt; 3 ACT          318 Bean                11877</span>
<span class="co">#&gt; 4 ACT          318 Bean                11452</span>
<span class="co">#&gt; 5 ACT          318 Bean                 8761</span>
<span class="co">#&gt; 6 ACT          318 Bean                 8763</span>
<span class="co">#&gt; # … with 11 more variables: PollingPlaceTypeID &lt;dbl&gt;,</span>
<span class="co">#&gt; #   PollingPlaceNm &lt;chr&gt;, PremisesNm &lt;chr&gt;,</span>
<span class="co">#&gt; #   PremisesAddress1 &lt;chr&gt;, PremisesAddress2 &lt;chr&gt;,</span>
<span class="co">#&gt; #   PremisesAddress3 &lt;chr&gt;, PremisesSuburb &lt;chr&gt;,</span>
<span class="co">#&gt; #   PremisesStateAb &lt;chr&gt;, PremisesPostCode &lt;chr&gt;,</span>
<span class="co">#&gt; #   Latitude &lt;dbl&gt;, Longitude &lt;dbl&gt;</span></code></pre></div>
<p>This dataset is for the whole of Australia, but as we are just going to plot the area around Canberra we will filter to that and only to booths that are geographic (the AEC has various options for people who are in hospital, or not able to get to a booth, etc, and these are still ‘booths’ in this dataset).</p>
<div class="sourceCode" id="cb167"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Reduce the booths data to only rows with that have latitude and longitude</span>
<span class="va">booths_reduced</span> <span class="op">&lt;-</span>
  <span class="va">booths</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">State</span> <span class="op">==</span> <span class="st">"ACT"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">PollingPlaceID</span>, <span class="va">DivisionNm</span>, <span class="va">Latitude</span>, <span class="va">Longitude</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">Longitude</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="co"># Remove rows that don't have a geography</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Longitude</span> <span class="op">&lt;</span> <span class="fl">165</span><span class="op">)</span> <span class="co"># Remove Norfolk Island</span></code></pre></div>
<p>Now we can use <code>ggmap</code> in the same way as before to plot our underlying tiles, and then build on that using <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code> to add our points of interest.</p>
<div class="sourceCode" id="cb168"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/ggmap.html">ggmap</a></span><span class="op">(</span><span class="va">canberra_stamen_map</span>, 
      extent <span class="op">=</span> <span class="st">"normal"</span>, 
      maprange <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">booths_reduced</span>,
             <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Longitude</span>, 
                 y <span class="op">=</span> <span class="va">Latitude</span>, 
                 colour <span class="op">=</span> <span class="va">DivisionNm</span><span class="op">)</span>,
             <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_brewer</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"2019 Division"</span>, palette <span class="op">=</span> <span class="st">"Set1"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_map.html">coord_map</a></span><span class="op">(</span>projection<span class="op">=</span><span class="st">"mercator"</span>,
            xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">map</span>, <span class="st">"bb"</span><span class="op">)</span><span class="op">$</span><span class="va">ll.lon</span>, <span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">map</span>, <span class="st">"bb"</span><span class="op">)</span><span class="op">$</span><span class="va">ur.lon</span><span class="op">)</span>,
            ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">map</span>, <span class="st">"bb"</span><span class="op">)</span><span class="op">$</span><span class="va">ll.lat</span>, <span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">map</span>, <span class="st">"bb"</span><span class="op">)</span><span class="op">$</span><span class="va">ur.lat</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Longitude"</span>,
       y <span class="op">=</span> <span class="st">"Latitude"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>panel.grid.major <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
        panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="11-static_communication_files/figure-html/unnamed-chunk-25-1.png" width="672"></div>
<p>We may like to save the map so that we don’t have to draw it every time, and we can do that in the same way as any other graph, using <code><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave()</a></code>.</p>
<div class="sourceCode" id="cb169"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave</a></span><span class="op">(</span><span class="st">"outputs/figures/map.pdf"</span>, width <span class="op">=</span> <span class="fl">20</span>, height <span class="op">=</span> <span class="fl">10</span>, units <span class="op">=</span> <span class="st">"cm"</span><span class="op">)</span></code></pre></div>
<p>Finally, the reason that I used Stamen Maps and OpenStreetMap is because it is open source, however you can also use Google Maps if you want. This requires you to first register a credit card with Google, and specify a key, but with low usage should be free. The <code><a href="https://rdrr.io/pkg/ggmap/man/get_googlemap.html">get_googlemap()</a></code> function with <code>ggmap</code>, brings some nice features that <code><a href="https://rdrr.io/pkg/ggmap/man/get_stamenmap.html">get_stamenmap()</a></code> does not have. For instance, you can enter a placename and it’ll do it’s best to find it rather than needing to specify a bounding box.</p>
</div>
<div id="toronto-bike-parking" class="section level3" number="6.4.2">
<h3>
<span class="header-section-number">6.4.2</span> Toronto bike parking<a class="anchor" aria-label="anchor" href="#toronto-bike-parking"><i class="fas fa-link"></i></a>
</h3>
<p>Let’s see another example of a static map, this time using Toronto data accessed via the <code>opendatatoronto</code> package. The dataset that we are going to plot is available here: <a href="https://open.toronto.ca/dataset/street-furniture-bicycle-parking/" class="uri">https://open.toronto.ca/dataset/street-furniture-bicycle-parking/</a>.</p>
<div class="sourceCode" id="cb170"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># This code is based on code from: https://open.toronto.ca/dataset/street-furniture-bicycle-parking/.</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://sharlagelfand.github.io/opendatatoronto/">opendatatoronto</a></span><span class="op">)</span>
<span class="co"># (The string identifies the package.)</span>
<span class="va">resources</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://sharlagelfand.github.io/opendatatoronto//reference/list_package_resources.html">list_package_resources</a></span><span class="op">(</span><span class="st">"71e6c206-96e1-48f1-8f6f-0e804687e3be"</span><span class="op">)</span>
<span class="co"># In this case there is only one dataset within this resource so just need the first one    </span>
<span class="va">raw_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">resources</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/ranking.html">row_number</a></span><span class="op">(</span><span class="op">)</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://sharlagelfand.github.io/opendatatoronto//reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://sharlagelfand.github.io/opendatatoronto//reference/get_resource.html">get_resource</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html">write_csv</a></span><span class="op">(</span><span class="va">raw_data</span>, <span class="st">"inputs/data/bike_racks.csv"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">raw_data</span><span class="op">)</span></code></pre></div>
<p>Now that we’ve saved a copy of the data, we can use that one. First, we need to clean it up a bit. There are some clear errors in the ADDRESSNUMBERTEXT field, but not too many, so we’ll just ignore it.</p>
<div class="sourceCode" id="cb171"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">raw_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">"inputs/data/bike_racks.csv"</span><span class="op">)</span>
<span class="co"># We'll just focus on the data that we want</span>
<span class="va">bike_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>ward <span class="op">=</span> <span class="va">raw_data</span><span class="op">$</span><span class="va">WARD</span>,
                    id <span class="op">=</span> <span class="va">raw_data</span><span class="op">$</span><span class="va">ID</span>,
                    status <span class="op">=</span> <span class="va">raw_data</span><span class="op">$</span><span class="va">STATUS</span>,
                    street_address <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">raw_data</span><span class="op">$</span><span class="va">ADDRESSNUMBERTEXT</span>, <span class="va">raw_data</span><span class="op">$</span><span class="va">ADDRESSSTREET</span><span class="op">)</span>,
                    latitude <span class="op">=</span> <span class="va">raw_data</span><span class="op">$</span><span class="va">LATITUDE</span>,
                    longitude <span class="op">=</span> <span class="va">raw_data</span><span class="op">$</span><span class="va">LONGITUDE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span><span class="va">raw_data</span><span class="op">)</span></code></pre></div>
<p>Some of the bike racks were temporary so remove them and also let’s just look at the area around the university, which is Ward 11</p>
<div class="sourceCode" id="cb172"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Only keep ones that still exist</span>
<span class="va">bike_data</span> <span class="op">&lt;-</span> 
  <span class="va">bike_data</span> <span class="op"><a href="https://sharlagelfand.github.io/opendatatoronto//reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">status</span> <span class="op">==</span> <span class="st">"Existing"</span><span class="op">)</span> <span class="op"><a href="https://sharlagelfand.github.io/opendatatoronto//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">status</span><span class="op">)</span>

<span class="va">bike_data</span> <span class="op">&lt;-</span> <span class="va">bike_data</span> <span class="op"><a href="https://sharlagelfand.github.io/opendatatoronto//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">ward</span> <span class="op">==</span> <span class="fl">11</span><span class="op">)</span> <span class="op"><a href="https://sharlagelfand.github.io/opendatatoronto//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">ward</span><span class="op">)</span></code></pre></div>
<p>If you look at the dataset at this point, then you’ll notice that there is a row for every bike parking spot. But we don’t really need to know that, because sometimes there are lots right next to each other. Instead, we’d just like the one point (we’ll take advantage of this in an interactive graph in a moment). So, we want to create a count by address, and then just get one instance per address.</p>
<div class="sourceCode" id="cb173"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">bike_data</span> <span class="op">&lt;-</span> 
  <span class="va">bike_data</span> <span class="op"><a href="https://sharlagelfand.github.io/opendatatoronto//reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">street_address</span><span class="op">)</span> <span class="op"><a href="https://sharlagelfand.github.io/opendatatoronto//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>number_of_spots <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span>,
         running_total <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/ranking.html">row_number</a></span><span class="op">(</span><span class="op">)</span>
         <span class="op">)</span> <span class="op"><a href="https://sharlagelfand.github.io/opendatatoronto//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://sharlagelfand.github.io/opendatatoronto//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">running_total</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://sharlagelfand.github.io/opendatatoronto//reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">id</span>, <span class="op">-</span><span class="va">running_total</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">bike_data</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 × 4</span>
<span class="co">#&gt;   street_address   latitude longitude number_of_spots</span>
<span class="co">#&gt;   &lt;chr&gt;               &lt;dbl&gt;     &lt;dbl&gt;           &lt;int&gt;</span>
<span class="co">#&gt; 1 8 Kensington Ave     43.7     -79.4               1</span>
<span class="co">#&gt; 2 87 Avenue Rd         43.7     -79.4               4</span>
<span class="co">#&gt; 3 162 Mc Caul St       43.7     -79.4               1</span>
<span class="co">#&gt; 4 147 Baldwin St       43.7     -79.4               2</span>
<span class="co">#&gt; 5 888 Yonge St         43.7     -79.4               1</span>
<span class="co">#&gt; 6 180 Elizabeth St     43.7     -79.4              10</span>

<span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html">write_csv</a></span><span class="op">(</span><span class="va">bike_data</span>, <span class="st">"outputs/data/bikes.csv"</span><span class="op">)</span></code></pre></div>
<p>Now we can grab our tile and add our bike rack data onto it.</p>
<div class="sourceCode" id="cb174"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">bbox</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>left <span class="op">=</span> <span class="op">-</span><span class="fl">79.420390</span>, bottom <span class="op">=</span> <span class="fl">43.642658</span>, right <span class="op">=</span> <span class="op">-</span><span class="fl">79.383354</span>, top <span class="op">=</span> <span class="fl">43.672557</span><span class="op">)</span>

<span class="va">toronto_stamen_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/get_stamenmap.html">get_stamenmap</a></span><span class="op">(</span><span class="va">bbox</span>, zoom <span class="op">=</span> <span class="fl">14</span>, maptype <span class="op">=</span> <span class="st">"toner-lite"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/ggmap.html">ggmap</a></span><span class="op">(</span><span class="va">toronto_stamen_map</span>,  maprange <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">bike_data</span>,
             <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">longitude</span>, 
                 y <span class="op">=</span> <span class="va">latitude</span><span class="op">)</span>,
             alpha <span class="op">=</span> <span class="fl">0.3</span>
             <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Longitude"</span>,
       y <span class="op">=</span> <span class="st">"Latitude"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> </code></pre></div>
<div class="inline-figure"><img src="11-static_communication_files/figure-html/unnamed-chunk-31-1.png" width="672"></div>
</div>
<div id="geocoding" class="section level3" number="6.4.3">
<h3>
<span class="header-section-number">6.4.3</span> Geocoding<a class="anchor" aria-label="anchor" href="#geocoding"><i class="fas fa-link"></i></a>
</h3>
<p>To this point we just assumed that we already had geocoded data. The places ‘Canberra, Australia,’ or ‘Ottawa, Canada,’ are just names, they don’t actually inherently have a location. In order to plot them we need to get a latitude and longitude for them. The process of going from names to coordinates is called geocoding.</p>
<p>There are a range of options to geocode data in R, but one good package is <code>tidygeocoder</code> <span class="citation">(<a href="references-1.html#ref-citetidygeocoder" role="doc-biblioref">Cambon and Belanger 2021</a>)</span>. To get started using the package we need a dataframe of locations. So we’ll just quickly make one here.</p>
<div class="sourceCode" id="cb175"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">some_locations</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>city <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Canberra'</span>, <span class="st">'Ottawa'</span><span class="op">)</span>,
         country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Australia'</span>, <span class="st">'Canada'</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb176"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">tidygeocoder</span><span class="fu">::</span><span class="fu"><a href="https://jessecambon.github.io/tidygeocoder/reference/geo.html">geo</a></span><span class="op">(</span>city <span class="op">=</span> <span class="va">some_locations</span><span class="op">$</span><span class="va">city</span>, 
                  country <span class="op">=</span> <span class="va">some_locations</span><span class="op">$</span><span class="va">country</span>, 
                  method <span class="op">=</span> <span class="st">'osm'</span><span class="op">)</span>
<span class="co">#&gt; Passing 2 addresses to the Nominatim single address geocoder</span>
<span class="co">#&gt; Query completed in: 2 seconds</span>
<span class="co">#&gt; # A tibble: 2 × 4</span>
<span class="co">#&gt;   city     country     lat  long</span>
<span class="co">#&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Canberra Australia -35.3 149. </span>
<span class="co">#&gt; 2 Ottawa   Canada     45.4 -75.7</span></code></pre></div>
</div>
</div>
<div id="exercises-and-tutorial-5" class="section level2" number="6.5">
<h2>
<span class="header-section-number">6.5</span> Exercises and tutorial<a class="anchor" aria-label="anchor" href="#exercises-and-tutorial-5"><i class="fas fa-link"></i></a>
</h2>
<div id="exercises-5" class="section level3" number="6.5.1">
<h3>
<span class="header-section-number">6.5.1</span> Exercises<a class="anchor" aria-label="anchor" href="#exercises-5"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li>I have a dataset that contains measurements of height (in cm) for a sample of 300 penguins, who are either the Adeline or Emperor species. I am interested in visualizing the distribution of heights by species in a graphical way. Please discuss whether a pie chart is an appropriate type of graph to use. What about a box and whisker plot? Finally, what are some considerations if you made a histogram? [Please write a paragraph or two for each aspect.]</li>
<li>Assume the dataset and columns exist. Would this code work? <code>data %&gt;% ggplot(aes(x = col_one)) %&gt;% geom_point()</code> (pick one)?
<ol style="list-style-type: lower-alpha">
<li>Yes</li>
<li>No</li>
</ol>
</li>
<li>If I have categorical data, which geom should I use to plot it (pick one)?
<ol style="list-style-type: lower-alpha">
<li><code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_abline()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot()</a></code></li>
</ol>
</li>
<li>Why are box plots often inappropriate (pick one)?
<ol style="list-style-type: lower-alpha">
<li>They hide the full distribution of the data.</li>
<li>They are hard to make.</li>
<li>They are ugly.</li>
<li>The mode is clearly displayed.</li>
</ol>
</li>
<li>Which of the following, if any, are elements of the layered grammar of graphics <span class="citation">(<a href="references-1.html#ref-wickham2010layered" role="doc-biblioref">Wickham 2010</a>)</span> (select all that apply)?
<ol style="list-style-type: lower-alpha">
<li>A default dataset and set of mappings from variables to aesthetics.</li>
<li>One or more layers, with each layer having one geometric object, one statistical transformation, one position adjustment, and optionally, one dataset and set of aesthetic mappings.</li>
<li>Colours that enable the reader to understand the main point.</li>
<li>A coordinate system.</li>
<li>The facet specification.</li>
<li>One scale for each aesthetic mapping used.</li>
</ol>
</li>
</ol>
</div>
<div id="tutorial-5" class="section level3" number="6.5.2">
<h3>
<span class="header-section-number">6.5.2</span> Tutorial<a class="anchor" aria-label="anchor" href="#tutorial-5"><i class="fas fa-link"></i></a>
</h3>
<p>Discuss, in a page or two, the layered grammar of <span class="citation"><a href="references-1.html#ref-wickham2010layered" role="doc-biblioref">Wickham</a> (<a href="references-1.html#ref-wickham2010layered" role="doc-biblioref">2010</a>)</span> and how it relates to telling stories with data.</p>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="on-writing.html"><span class="header-section-number">5</span> On writing</a></div>
<div class="next"><a href="interactive-communication.html"><span class="header-section-number">7</span> Interactive communication</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#static-communication"><span class="header-section-number">6</span> Static communication</a></li>
<li><a class="nav-link" href="#introduction-2"><span class="header-section-number">6.1</span> Introduction</a></li>
<li>
<a class="nav-link" href="#graphs"><span class="header-section-number">6.2</span> Graphs</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#bar-chart"><span class="header-section-number">6.2.1</span> Bar chart</a></li>
<li><a class="nav-link" href="#scatter-plot"><span class="header-section-number">6.2.2</span> Scatter plot</a></li>
<li><a class="nav-link" href="#never-use-box-plots"><span class="header-section-number">6.2.3</span> Never use box plots</a></li>
<li><a class="nav-link" href="#other-1"><span class="header-section-number">6.2.4</span> Other</a></li>
</ul>
</li>
<li><a class="nav-link" href="#tables"><span class="header-section-number">6.3</span> Tables</a></li>
<li>
<a class="nav-link" href="#maps"><span class="header-section-number">6.4</span> Maps</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#australian-polling-places"><span class="header-section-number">6.4.1</span> Australian polling places</a></li>
<li><a class="nav-link" href="#toronto-bike-parking"><span class="header-section-number">6.4.2</span> Toronto bike parking</a></li>
<li><a class="nav-link" href="#geocoding"><span class="header-section-number">6.4.3</span> Geocoding</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#exercises-and-tutorial-5"><span class="header-section-number">6.5</span> Exercises and tutorial</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#exercises-5"><span class="header-section-number">6.5.1</span> Exercises</a></li>
<li><a class="nav-link" href="#tutorial-5"><span class="header-section-number">6.5.2</span> Tutorial</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/11-static_communication.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/11-static_communication.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Telling Stories With Data</strong>" was written by Rohan Alexander. It was last built on 06 January, 2022.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
